section,input_fun,id,label,mandatory,options,label2,hidden,restore,update_fun
sp_info,"textInput(""assessor_name"", labelMandatory(""Assessor Name""), """"),",,,,,,,,
sp_info,"              textInput(""geo_location"", labelMandatory(""Geographic Area Assessed"")),",,,,,,,,
sp_info,"              selectInput(""tax_grp"", labelMandatory(""Major Taxonomic Group""),",,,,,,,,
sp_info,"                          c(""Vascular Plant"", ""Nonvascular Plant"", ""Lichen"",",,,,,,,,
sp_info,"                            ""Invert-Insect"", ""Invert-Mollusk"", ""Invert-Other"",",,,,,,,,
sp_info,"                            ""Fish"", ""Amphibian"", ""Reptile"", ""Mammal"", ""Bird"")),",,,,,,,,
sp_info,"              textInput(""species_name"", labelMandatory(""Species Scientific Name"")),",,,,,,,,
sp_info,"              textInput(""common_name"", ""Common Name""),",,,,,,,,
sp_info,"              checkboxInput(""cave"", ""Check if the species is an obligate of caves or groundwater systems""),",,,,,,,,
sp_info,"              checkboxInput(""mig"", ""Check if species is migratory and you wish to enter exposure data for the migratory range that lies outside of the assessment area""),",,,,,,,,
spatial," labelMandatory(strong(""Folder location of prepared climate data:"")),",,,,,,,,
spatial,"                shinyDirButton(""clim_var_dir"", ""Choose a folder"",",,,,,,,,
spatial,"                               ""Folder location of prepared climate data""),",,,,,,,,
spatial,"                shinycssloaders::withSpinner(verbatimTextOutput(""clim_var_dir_out"", placeholder = TRUE), proxy.height = ""100px""),",,,,,,,,
spatial,"                verbatimTextOutput(""clim_var_error""),",,,,,,,,
spatial,"                br(),",,,,,,,,
spatial,"                get_file_ui(""range_poly_pth"", ""Range polygon shapefile"", mandatory = TRUE),",,,,,,,,
spatial,"                get_file_ui(""assess_poly_pth"", ""Assessment area polygon shapefile"", mandatory = TRUE),",,,,,,,,
spatial,"                get_file_ui(""ptn_poly_pth"", ""Physiological thermal niche file""),",,,,,,,,
spatial,"                get_file_ui(""nonbreed_poly_pth"", ""Non-breeding Range polygon shapefile""),",,,,,,,,
spatial_range_change,"                selectInput(""rng_chg_used"", ""Will a projected range change raster be supplied?"",",,,,,,,,
spatial_range_change,"                            c(""No"" = ""no"",",,,,,,,,
spatial_range_change,"                              ""Yes, one range change raster will be supplied for all scenarios"" = ""one"",",,,,,,,,
spatial_range_change,"                              ""Yes, multiple range change rasters will be supplied, one for each scenario (Preferred)"" = ""multiple"")),",,,,,,,,
spatial_range_change,"                uiOutput(""rng_chg_sel_ui"")",,,,,,,,
spatial_range_change,"                                 from_to_ui(""Lost:"", ""lost"", c(-1, -1)),",,,,,,,,
spatial_range_change,"                                 from_to_ui(""Maintained:"", ""maint"", c(0, 0)),",,,,,,,,
spatial_range_change,"                                 from_to_ui(""Gained:"", ""gain"", c(1,1)),",,,,,,,,
spatial_range_change,"                                 from_to_ui(""Not Suitable:"", ""ns"", c(99, 99)),",,,,,,,,
spatial_range_change,"                                 strong(""Gain modifier""),",,,,,,,,
spatial_range_change,"                                 numericInput(""gain_mod"", NULL, 1, min = 0, max = 1, step = 0.1),",,,,,,,,
spatial_range_change,"get_file_ui(paste0(""rng_chg_pth"", ""_"", .y), .x)",,,,,,,,
vuln_qs,"                check_comment_ui(""B1"", ""1) Exposure to sea level rise:"",",,,,,,,,
vuln_qs,"                                 choiceNames = valueNms,",,,,,,,,
vuln_qs,"                                 choiceValues = valueOpts),",,,,,,,,
vuln_qs,"                check_comment_ui(""B2a"", ""2a) Distribution relative to natural barriers"",",,,,,,,,
vuln_qs,"                                 choiceNames = valueNms,",,,,,,,,
vuln_qs,"                                 choiceValues = valueOpts),",,,,,,,,
vuln_qs,"                check_comment_ui(""B2b"", ""2b) Distribution relative to anthropogenic barriers"",",,,,,,,,
vuln_qs,"                                 choiceNames = valueNms,",,,,,,,,
vuln_qs,"                                 choiceValues = valueOpts),",,,,,,,,
vuln_qs,,,,,,,,,
vuln_qs,"                check_comment_ui(""B3"", ""  3) Predicted impact of land use changes resulting from human responses to climate change"",",,,,,,,,
vuln_qs,"                                 choiceNames = valueNms[2:4],",,,,,,,,
vuln_qs,                                 choiceValues = valueOpts[2:4]),,,,,,,,
vuln_qs,"                check_comment_ui(""C1"", ""1) Dispersal and movements"",",,,,,,,,
vuln_qs,"                                 choiceNames = valueNms,",,,,,,,,
vuln_qs,"                                 choiceValues = valueOpts),",,,,,,,,
vuln_qs,,,,,,,,,
vuln_qs,"                strong(""2b) Predicted sensitivity to changes in precipitation, hydrology, or moisture regime:""),",,,,,,,,
vuln_qs,,,,,,,,,
vuln_qs,"                check_comment_ui(""C2bii"", ""ii) physiological hydrological niche."",",,,,,,,,
vuln_qs,"                                 choiceNames = valueNms,",,,,,,,,
vuln_qs,"                                 choiceValues = valueOpts),",,,,,,,,
vuln_qs,,,,,,,,,
vuln_qs,"                check_comment_ui(""C2c"", ""2c) Dependence on a specific disturbance regime likely to be impacted by climate change."",",,,,,,,,
vuln_qs,"                                 choiceNames = valueNms[2:4],",,,,,,,,
vuln_qs,"                                 choiceValues = valueOpts[2:4]),",,,,,,,,
vuln_qs,"                check_comment_ui(""C2d"", ""2d) Dependence on ice, ice-edge, or snow-cover habitats."",",,,,,,,,
vuln_qs,"                                 choiceNames = valueNms,",,,,,,,,
vuln_qs,"                                 choiceValues = valueOpts),",,,,,,,,
vuln_qs,,,,,,,,,
vuln_qs,"                check_comment_ui(""C3"", ""3) Restriction to uncommon landscape/geological features or derivatives."",",,,,,,,,
vuln_qs,"                                 choiceNames = valueNms[2:4],",,,,,,,,
vuln_qs,"                                 choiceValues = valueOpts[2:4]),",,,,,,,,
vuln_qs,"                check_comment_ui(""C4a"", ""4a) Dependence on other species to generate required habitat."",",,,,,,,,
vuln_qs,"                                 choiceNames = valueNms[2:4],",,,,,,,,
vuln_qs,"                                 choiceValues = valueOpts[2:4]),",,,,,,,,
vuln_qs,                shinyjs::hidden(,,,,,,,,
vuln_qs,                  div(,,,,,,,,
vuln_qs,"                    id = ""animal_only"",",,,,,,,,
vuln_qs,"                    check_comment_ui(""C4b"", ""4b) Dietary versatility (animals only)."",",,,,,,,,
vuln_qs,"                                     choiceNames = valueNms[2:4],",,,,,,,,
vuln_qs,                                     choiceValues = valueOpts[2:4]),,,,,,,,
vuln_qs,                  ),,,,,,,,
vuln_qs,"                ),",,,,,,,,
vuln_qs,                shinyjs::hidden(,,,,,,,,
vuln_qs,                  div(,,,,,,,,
vuln_qs,"                    id = ""plant_only"",",,,,,,,,
vuln_qs,"                    check_comment_ui(""C4c"", ""4c) Pollinator versatility (plants only)."",",,,,,,,,
vuln_qs,"                                     choiceNames = valueNms[2:4],",,,,,,,,
vuln_qs,                                     choiceValues = valueOpts[2:4]),,,,,,,,
vuln_qs,                  ),,,,,,,,
vuln_qs,"                ),",,,,,,,,
vuln_qs,"                check_comment_ui(""C4d"", ""4d) Dependence on other species for propagule dispersal."",",,,,,,,,
vuln_qs,"                                 choiceNames = valueNms[2:4],",,,,,,,,
vuln_qs,"                                 choiceValues = valueOpts[2:4]),",,,,,,,,
vuln_qs,"                check_comment_ui(""C4e"", ""4e) Sensitivity to pathogens or natural enemies."",",,,,,,,,
vuln_qs,"                                 choiceNames = valueNms[2:4],",,,,,,,,
vuln_qs,"                                 choiceValues = valueOpts[2:4]),",,,,,,,,
vuln_qs,"                check_comment_ui(""C4f"", ""4f) Sensitivity to competition from native or non-native species."",",,,,,,,,
vuln_qs,"                                 choiceNames = valueNms[2:4],",,,,,,,,
vuln_qs,"                                 choiceValues = valueOpts[2:4]),",,,,,,,,
vuln_qs,"                check_comment_ui(""C4g"", ""4g) Forms part of an interspecific interaction not covered by 4a-f."",",,,,,,,,
vuln_qs,"                                 choiceNames = valueNms[2:4],",,,,,,,,
vuln_qs,"                                 choiceValues = valueOpts[2:4]),",,,,,,,,
vuln_qs,,,,,,,,,
vuln_qs,"                check_comment_ui(""C5a"", ""5a) Measured genetic variation."",",,,,,,,,
vuln_qs,"                                 choiceNames = valueNms[2:4],",,,,,,,,
vuln_qs,"                                 choiceValues = valueOpts[2:4]),",,,,,,,,
vuln_qs,                conditionalPanel(,,,,,,,,
vuln_qs,"                  ""input.C5a == ''"",",,,,,,,,
vuln_qs,"                  check_comment_ui(""C5b"", ""5b) Occurrence of bottlenecks in recent evolutionary history (use only if 5a is unknown)."",",,,,,,,,
vuln_qs,"                                   choiceNames = valueNms[2:4],",,,,,,,,
vuln_qs,"                                   choiceValues = valueOpts[2:4]),",,,,,,,,
vuln_qs,,,,,,,,,
vuln_qs,"                ),",,,,,,,,
vuln_qs,                conditionalPanel(,,,,,,,,
vuln_qs,"                  ""input.C5a == '' && input.C5b == ''"",",,,,,,,,
vuln_qs,                  shinyjs::hidden(,,,,,,,,
vuln_qs,                    div(,,,,,,,,
vuln_qs,"                      id = ""plant_only2"",",,,,,,,,
vuln_qs,"                      check_comment_ui(""C5c"", ""5c) Reproductive system (plants only; use only if C5a and C5b are unknown)."",",,,,,,,,
vuln_qs,"                                       choiceNames = valueNms[2:4],",,,,,,,,
vuln_qs,                                       choiceValues = valueOpts[2:4]),,,,,,,,
vuln_qs,                    ),,,,,,,,
vuln_qs,                  ),,,,,,,,
vuln_qs,"                ),",,,,,,,,
vuln_qs,,,,,,,,,
vuln_qs,"                check_comment_ui(""C6"", ""6) Phenological response to changing seasonal temperature and precipitation dynamics."",",,,,,,,,
vuln_qs,"                                 choiceNames = valueNms[2:4],",,,,,,,,
vuln_qs,                                 choiceValues = valueOpts[2:4]),,,,,,,,
vuln_qs,              ),,,,,,,,
vuln_qs,            ),,,,,,,,
vuln_qs,"          ),",,,,,,,,
vuln_qs,"                check_comment_ui(""D1"", ""1) Documented response to recent climate change. "",",,,,,,,,
vuln_qs,"                                 choiceNames = valueNms,",,,,,,,,
vuln_qs,"                                 choiceValues = valueOpts),",,,,,,,,
vuln_qs,,,,,,,,,
vuln_qs,"                check_comment_ui(""D4"", ""4) Occurrence of protected areas in modeled future distribution."",",,,,,,,,
vuln_qs,"                                 choiceNames = valueNms[2:4],",,,,,,,,
vuln_qs,"                                 choiceValues = valueOpts[2:4]),",,,,,,,,
vuln_qs_spatial,              spat_vuln_ui(,,,,,,,,
vuln_qs_spatial,"                id = ""C2ai"",",,,,,,,,
vuln_qs_spatial,"                header = ""Predicted sensitivity to temperature and moisture changes:"",",,,,,,,,
vuln_qs_spatial,"                vuln_q_nm = ""2a) i) Historical thermal niche.""",,,,,,,,
vuln_qs_spatial,"              ),",,,,,,,,
vuln_qs_spatial,              spat_vuln_ui(,,,,,,,,
vuln_qs_spatial,"                id = ""C2aii"",",,,,,,,,
vuln_qs_spatial,"                vuln_q_nm = ""2a) ii) Physiological thermal niche.""",,,,,,,,
vuln_qs_spatial,"              ),",,,,,,,,
vuln_qs_spatial,              spat_vuln_ui(,,,,,,,,
vuln_qs_spatial,"                id = ""C2bi"",",,,,,,,,
vuln_qs_spatial,"                vuln_q_nm = ""2b) i) Historical hydrological niche.""",,,,,,,,
vuln_qs_spatial,"              ),",,,,,,,,
vuln_qs_spatial,"              h4(""Section D: Documented or Modeled Response to Climate Change""),",,,,,,,,
vuln_qs_spatial,"              actionButton(""guideD2"", ""Show guidelines""),",,,,,,,,
vuln_qs_spatial,"              br(),",,,,,,,,
vuln_qs_spatial,              spat_vuln_ui(,,,,,,,,
vuln_qs_spatial,"                id = ""D2_3"",",,,,,,,,
vuln_qs_spatial,"                header = ""Modeled future range change"",",,,,,,,,
vuln_qs_spatial,"              ),",,,,,,,,
vuln_qs_spatial,"              strong(""2) Modeled future (2050) change in population or range size.""),",,,,,,,,
vuln_qs_spatial,"              uiOutput(""box_D2""),",,,,,,,,
vuln_qs_spatial,"              strong(""3) Overlap of modeled future (2050) range with current range""),",,,,,,,,
vuln_qs_spatial,"              uiOutput(""box_D3""),",,,,,,,,
