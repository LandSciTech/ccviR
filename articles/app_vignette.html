<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Using the ccviR app • ccviR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Using the ccviR app">
<meta property="og:description" content="ccviR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ccviR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9005</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/app_vignette.html">Using the ccviR app</a>
    </li>
    <li>
      <a href="../articles/package_vignette.html">Using the ccviR package</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/see24/ccviR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="app_vignette_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Using the ccviR app</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/see24/ccviR/blob/HEAD/vignettes/app_vignette.Rmd" class="external-link"><code>vignettes/app_vignette.Rmd</code></a></small>
      <div class="hidden name"><code>app_vignette.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The ccviR app implements the <a href="https://www.natureserve.org/conservation-tools/climate-change-vulnerability-index" class="external-link">NatureServe Climate Change Vulnerability Index (CCVI)</a> in a Shiny App. The app allows all of the geospatial aspects of calculating the CCVI to be done in R, removing the need for separate GIS calculations. It also includes new features and enhanced user friendliness to make it easier to calculate the index and explore the results.</p>
<p>The NatureServe CCVI is a trait based climate change vulnerability assessment framework that can also include observed and modeled responses to climate change. The NatureServe CCVI includes three commonly used components of vulnerability: exposure, sensitivity and adaptive capacity and optionally incorporates the results of documented or modeled responses to climate change. Exposure is assessed by determining the proportion of the species range that falls into 6 classes of temperature and moisture change, which is used to determine an exposure multiplier. Sensitivity and adaptive capacity and responses to climate change are assessed by scoring vulnerability factors (23 and 4 respectively), on a scale from ‘neutral’ (0) to ‘greatly increases vulnerability’ (3). Factors that cannot be answered can be left blank and contribute 0 to the total score, but if fewer than 13 are scored the index value can not be calculated. The sensitivity and adaptive capacity section scores are then multiplied by an exposure multiplier and summed, while the scores for the response to climate change section are simply summed. An index value is then determined for each section by applying a set of thresholds to the scores. The two index values are then combined using a table that gives more weight to the sensitivity and adaptive capacity section. The possible index values are Less Vulnerable, Moderately Vulnerable, Highly Vulnerable, Extremely Vulnerable or Insufficient Evidence if not enough factors of the CCVI are scored. For more detailed information on how the index works and how each factor is scored see the <a href="https://www.natureserve.org/sites/default/files/guidelines_natureserveclimatechangevulnerabilityindex_r3.02_1_jun_2016.pdf" class="external-link">NatureServe CCVI Guidelines</a> and the references below.</p>
</div>
<div class="section level2">
<h2 id="launching-the-app">Launching the app<a class="anchor" aria-label="anchor" href="#launching-the-app"></a>
</h2>
<p>The app is launched by calling the <code><a href="../reference/run_ccvi_app.html">run_ccvi_app()</a></code> function, which will launch the app in the user’s default internet browser. All file selection windows will start in the current working directory. To run the app with data stored in a different folder you can call <code><a href="../reference/run_ccvi_app.html">run_ccvi_app()</a></code> with the folder path as the first argument. For example if all of the data is stored in a subdirectory named “data” of the RStudio project where I am calling the function I would call <code>run_ccvi_app("data")</code> to avoid having to open the data folder every time I select a file. Alternatively, the complete path to the data folder can be supplied e.g. “C:/Users/username/Documents/path/to/folder” (Note that paths in R must be supplied using forward slashes).</p>
</div>
<div class="section level2">
<h2 id="run-a-demonstration">Run a demonstration<a class="anchor" aria-label="anchor" href="#run-a-demonstration"></a>
</h2>
<p>Before using the app to assess a real species we recommend walking through the app with the demo data set provided. Run the code below to get started.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/see24/ccviR" class="external-link">ccviR</a></span><span class="op">)</span>
<span class="fu"><a href="../reference/run_ccvi_app.html">run_ccvi_app</a></span><span class="op">(</span><span class="st">"demo"</span><span class="op">)</span></code></pre></div>
<div class="section level3">
<h3 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h3>
<p>The Welcome Tab provides information on the Index and the data needed to calculate it.</p>
</div>
<div class="section level3">
<h3 id="preparing-the-data">Preparing the data<a class="anchor" aria-label="anchor" href="#preparing-the-data"></a>
</h3>
<p>The first time you use the app you will need to prepare the climate data used to calculate the index. To start we will process the example climate data by clicking the Prepare Climate Data button. This opens a new tab. In this case we don’t need to download the data because we are using the demo data. The raw climate data set includes the mean annual temperature (MAT) and climate moisture deficit (CMD) for both historical and future time periods and mean annual precipitation (MAP) and minimum coldest and warmest month temperatures (MCMT and MWMT) for the historical time period. In addition, the climate change exposure index (CCEI) for South/Central America which is provided by NatureServe is also included. The app will use the raw climate data to create the classified versions of the climate data that are used as to calculate the index and save them in the selected folder.</p>
<p>Start by selecting the folder location of the raw climate data. In the file selector window expand the “clim_files” folder by clicking the arrow and select the “raw” folder. Note the names of the files on the right hand side, when you download the real climate data you will need to re-name the files to match this naming structure or select the files individually. Click “Select” to close the window. Do the same for the output folder, this time selecting the “processed” folder. Check the “Should existing files in the output folder be overwritten?” box. Then click “Process”. A loading symbol will appear and when it is finished a message saying “Processing complete” will appear. This will take longer for the real climate data that covers all of North America so you will need to wait until it is finished before moving on. When it is done click “Finished” to go back to the Welcome page. The next time you use the app you can go straight onto Step 1 without preparing the climate data because it is stored on your computer in the output folder that you selected.</p>
<p>For a real species you will then need to think about and acquire the data described in Steps 1 and 2 on the Welcome page but for the demonstration we go ahead and press “Start” to begin calculating the index.</p>
</div>
<div class="section level3">
<h3 id="species-information">Species information<a class="anchor" aria-label="anchor" href="#species-information"></a>
</h3>
<p>On this page you will provide some basic details about the species. Make sure to select the appropriate taxonomic group since some aspects of the index are conditional on this. For the demonstration select “Bird”. See the NatureServe Guidelines to better understand the meaning of the two check boxes at the end. For the demonstration check the box for migratory species. Click “Next”.</p>
</div>
<div class="section level3">
<h3 id="spatial-data-analysis">Spatial data analysis<a class="anchor" aria-label="anchor" href="#spatial-data-analysis"></a>
</h3>
<p>On this tab you will load the spatial data used by the index and see the results of the spatial analysis for exposure to climate change. Select the folder location of the climate data prepared in the previous step ie “clim_files &gt; processed”. Then select the range polygon for the species by selecting the file “rng_poly_high.shp”. Select the assessment area by selecting the “assess_poly.shp” file. Select the “nonbreed_poly.shp” for the non-breeding range. Select “PTN_poly.shp” for the physiological thermal niche. And finally, select “HS_rast_high.tif” for the projected range change raster. New inputs will show up to specify how the raster should be classified into lost, gained, maintained or not suitable. For the example use the default values, which are for a raster where lost is 1, maintained in 2-6, gained is 7 and 0 is not suitable. Note if you wanted to ignore gains you could set the gain multiplier to 0 but we will leave it at 1 and assume that the model has already accounted for whether habitat gains are likely to be realized. Then click “Run”. A loading symbol will appear while the data is being processed. Then interactive maps of climate change exposure will be displayed. The real climate data will cover all of North America. The exposure maps are classified into 6 classes and the proportion of the species range in each class is displayed in the table. The exposure multiplier is determined by the level of exposure and is used to modify the sensitivity and adaptive capacity components of the index based on exposure to climate change. A similar analysis is done for the non-breeding range of the species, see the NatureServe guidelines for a full description of how the migratory exposure index is calculated. Once you have finished exploring the maps click “Next”.</p>
</div>
<div class="section level3">
<h3 id="vulnerability-questions">Vulnerability questions<a class="anchor" aria-label="anchor" href="#vulnerability-questions"></a>
</h3>
<p>Vulnerability questions are detailed questions that the index uses to score the species’ indirect exposure, sensitivity, adaptive capacity and modeled or documented responses to climate change. Descriptions of how to interpret and score the questions are available in the NatureServe guidelines which are included as a pop-up if you click the “Show guidelines” button. Some vulnerability questions are answered based on an analysis of spatial data and these questions are dealt with on the next tab. For the demonstration you can select any check box that you want for each question, try a few different versions and see how it affects the result! Click “Next” to go to the next tab</p>
</div>
<div class="section level3">
<h3 id="spatial-vulnerability-questions">Spatial Vulnerability Questions<a class="anchor" aria-label="anchor" href="#spatial-vulnerability-questions"></a>
</h3>
<p>This tab includes the vulnerability questions that have a spatial component. Each question includes a map and table showing how the data has been summarized. The check box is pre-selected based on the spatial data analysis but can be changed if needed. Note that if the check box is changed and then the Run button on the Spatial Analysis page is clicked again you will see a warning that the value of the check boxes on this page will be updated to the value based on the re-run spatial analysis. The comments will not be affected though so you can explain the reason for any adjustments in the comments and then remake those adjustments if they are still applicable. For the demonstration leave the check boxes as they are and then click “Next”.</p>
</div>
<div class="section level3">
<h3 id="results">Results<a class="anchor" aria-label="anchor" href="#results"></a>
</h3>
<p>On the Results page click Calculate to calculate the index value. Once loaded this page gives the resulting index value and tables and graphs that explain how the index value was determined. These are explained in the app. Once you are finished with reviewing the results you can save the data as a csv file.</p>
<p>If you go back and change the answer to a vulnerability question you will need to click the Calculate button again to see the updated results.</p>
</div>
<div class="section level3">
<h3 id="saving-the-app">Saving the app<a class="anchor" aria-label="anchor" href="#saving-the-app"></a>
</h3>
<p>The state of the app can be saved by clicking the save button at the bottom of the Results page. A pop up will appear that asks you to pick a location and name for a folder that will store the app data. Be sure to save this some where that is easy to remember because you will need to find it again to load the saved app. The folder name must have only letters or numbers and no spaces. This will create a folder with the given name containing two .rds files that store the values.</p>
<p>This will save the information entered into the app but it will not save the results so when the app is loaded from the saved file it will re-run the calculations. In addition, only the path to the spatial data is stored not the data itself so the app will not be able to load if data is moved or its name is changed. If the data has moved you will get an error message but you can go back to the Spatial Analysis tab and select the new file location and then press Run which will re-run the spatial analysis but keep the answers to the non-spatial vulnerability questions from the saved file.</p>
</div>
</div>
<div class="section level2">
<h2 id="troubleshooting">Troubleshooting<a class="anchor" aria-label="anchor" href="#troubleshooting"></a>
</h2>
<p>If you have a problem in the app you can look at the output in the R console for a clue about what is going wrong. The output will include messages, warnings and any error messages that are produced. You can ignore warnings unless something else has gone wrong. Most errors will show in the app but in some situations the app will go grey and the error message can be found in the R console.</p>
<p>If you have persistent problems with the app you can do the same analysis using the ccviR package. You will often be able to figure out what is causing the problem and return to the app. See <code><a href="../articles/package_vignette.html">vignette("package_vignette", package = "ccviR")</a></code> for a tutorial on how to use the package.</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Young, B. E., K. R. Hall, E. Byers, K. Gravuer, G. Hammerson, A. Redder, and K. Szabo. 2012. Rapid assessment of plant and animal vulnerability to climate change. Pages 129-150 in Wildlife Conservation in a Changing Climate, edited by J. Brodie, E. Post, and D. Doak. University of Chicago Press, Chicago, IL. <a href="https://doi.org/10.7208/9780226074641-007" class="external-link uri">https://doi.org/10.7208/9780226074641-007</a></p>
<p>Young, B. E., N. S. Dubois, and E. L. Rowland. 2015. Using the Climate Change Vulnerability Index to inform adaptation planning: lessons, innovations, and next steps. Wildlife Society Bulletin 39:174-181.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Sarah Endicott.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
