<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Preparing Custom Climate Data • ccviR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Preparing Custom Climate Data">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ccviR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/app_vignette2.html">Using the ccviR App</a></li>
    <li><a class="dropdown-item" href="../articles/data_prep_vignette.html">Preparing Custom Climate Data</a></li>
    <li><a class="dropdown-item" href="../articles/package_vignette.html">Using the ccviR package</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/see24/ccviR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Preparing Custom Climate Data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/see24/ccviR/blob/master/vignettes/data_prep_vignette.Rmd" class="external-link"><code>vignettes/data_prep_vignette.Rmd</code></a></small>
      <div class="d-none name"><code>data_prep_vignette.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="custom-climate-data">Custom Climate Data<a class="anchor" aria-label="anchor" href="#custom-climate-data"></a>
</h2>
<p>If you wish to use a custom set of climate data to calculate the
NatureServe Climate Change Vulnerability Index you will need to prepare
the climate data into the form used to calculate the index. The raw
climate data set should include rasters of:</p>
<ul>
<li>Mean annual temperature (MAT) for both historical and future time
periods</li>
<li>Climate moisture deficit (CMD) for both historical and future time
periods</li>
<li>Mean annual precipitation (MAP) for the historical time period</li>
<li>Minimum coldest and warmest month temperatures (MCMT and MWMT) for
the historical time period</li>
<li>Optionally, a climate change exposure index (CCEI) raster</li>
</ul>
<p>Climate data for multiple scenarios can be used to calculate the CCVI
index for each scenario simultaneously, in which case the MAT and CMD
for each future scenario is needed in the raw climate data set. The app
will use the raw climate data to create the classified versions of the
climate data that are used to calculate the index and save them in the
selected folder.</p>
<div class="section level3">
<h3 id="climate-data-sources">Climate data sources<a class="anchor" aria-label="anchor" href="#climate-data-sources"></a>
</h3>
<p>Step 1 is to acquire the necessary climate data. There are many
options for where to acquire climate data depending on the desired
climate change emissions scenario, General Circulation Model, or
downscaling method you prefer. One good source for all of North America
is from <a href="https://adaptwest.databasin.org/pages/adaptwest-climatena/" class="external-link">AdaptWest</a>.
On the AdpatWest page select the bioclimatic variables for the normal
period and the desired future climate scenario(s). We recommend using
the 1961-1990 normal period and the ensemble data for SSP2-4.5 and
SSP5-8.5 2050s for the future. Save the downloaded data in a folder you
can easily find.</p>
<p>The Climate Change Exposure Index (CCEI) for South America is
available from <a href="https://www.natureserve.org/ccvi-species" class="external-link">NatureServe</a> or use
the <a href="https://drive.google.com/drive/folders/175eBmxN1KIcqVvHLC3PcJIvvUP67BzPG" class="external-link">one
included with ccviR</a> which covers all the Americas. If you wish to
create a different CCEI raster you could follow adapt the code used in
the <a href="https://github.com/LandSciTech/ccviR/blob/master/data-raw/data_ccei.R" class="external-link">ccviR
package</a>.</p>
</div>
<div class="section level3">
<h3 id="launch-the-app">Launch the app<a class="anchor" aria-label="anchor" href="#launch-the-app"></a>
</h3>
<p>The data preparation app is launched by calling the
<code><a href="../reference/run_data_prep.html">run_data_prep()</a></code> function, which will launch the app in the
user’s default internet browser. All file selection windows will start
in the current working directory. To run the app with data stored in a
different folder you can call <code><a href="../reference/run_data_prep.html">run_data_prep()</a></code> with the
folder path as the first argument. For example, if all of the data is
stored in a subdirectory named “data” of the RStudio project where I am
calling the function I would call <code>run_data_prep("data")</code> to
avoid having to open the data folder every time I select a file.
Alternatively, the complete path to the data folder can be supplied
e.g. “C:/Users/username/Documents/path/to/folder” (Note that paths in R
must be supplied using forward slashes).</p>
</div>
<div class="section level3">
<h3 id="describe-the-data">Describe the data<a class="anchor" aria-label="anchor" href="#describe-the-data"></a>
</h3>
<p>Step 2 is to describe the data. This information will be stored as a
csv in the output folder with the processed climate data. It will be
used to identify the data set and to list the scenarios included.</p>
</div>
<div class="section level3">
<h3 id="select-files">Select files<a class="anchor" aria-label="anchor" href="#select-files"></a>
</h3>
<p>Step 3 is to upload the data. For each climate data variable click
the “Choose file” button, navigate to the required file and click
“Select”.</p>
<p><img src="dat_prep_mat.PNG" style="width:100.0%"></p>
<p>The climate data extent polygon is used to clip other polygons to the
extent of the climate data. So for climate data covering North America a
polygon of the boundaries of North America could be used. If a polygon
is not supplied one can be created but the process can be slow.</p>
<p>Finally, choose a folder to save the processed data to. Make sure
this folder is in a convenient place since you will need to supply it
every time you use the CCVI app to calculate the index. The folder
should be empty or contain climate files that you wish to overwrite. To
create a new folder, select the parent folder and click “Create new
folder” in the top left corner. Then type the new folder name and click
the plus sign. The new folder will appear in the file explorer, click it
and then click “Select”.</p>
<p><img src="out_folder.PNG" style="width:100.0%"></p>
<p>Once all the files are selected you can click “Process” to prepare
the data. Do not continue until the message says “Processing
Complete”.</p>
</div>
<div class="section level3">
<h3 id="multiple-scenarios">Multiple scenarios<a class="anchor" aria-label="anchor" href="#multiple-scenarios"></a>
</h3>
<p>If you wish to calculate the CCVI for multiple climate change
scenarios simultaneously you can create a climate change data set with
multiple scenarios. Change the number of scenarios in the “How many
future scenarios?” section.</p>
<p>The first scenario processed will determine the thresholds used to
classify the temperature and moisture exposure based on the median and
1/2 the interquartile range. Therefore, we recommend processing the
climate scenario with the lowest impact first so that index values are
higher for more extreme scenarios. Future MAT and CMD must be provided
for each additional scenario. The rest: MCMT, MWMT and MAP are not
needed for additional scenarios because they are used to inform the
species’ sensitivity based on its current range and historical climate
so they will not change between scenarios.</p>
</div>
<div class="section level3">
<h3 id="more-information">More information<a class="anchor" aria-label="anchor" href="#more-information"></a>
</h3>
<p>See the <code><a href="../articles/package_vignette.html">vignette("package_vignette", package = "ccviR")</a></code>
for a more detailed walk through of how the categories in the exposure
rasters are determined.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sarah Endicott, Ilona Naujokaitis-Lewis.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
