[{"path":"https://landscitech.github.io/ccviR/CODE_DESIGN.html","id":null,"dir":"","previous_headings":"","what":"Code Design","title":"Code Design","text":"details regarding code design choices/decisions, particularly things bit convoluted, well style decisions naming conventions.","code":""},{"path":"https://landscitech.github.io/ccviR/CODE_DESIGN.html","id":"data-storage","dir":"","previous_headings":"","what":"Data storage","title":"Code Design","text":"Data used preparing data sets package. Smaller data accessed user stored inst/extdata. Large data data shared directly, stored misc folder Git-ignored. ensures path developers data kept within project. However, reasons, R CMD Build actually copies files temp folder deletes ones .Rbuildignore, can create problems. fix (using RStudio) add PKG_BUILD_COPY_METHOD=link .Renviron file, link files rather copying. (https://github.com/r-lib/pkgbuild/issues/59#issuecomment-1327752199)","code":""},{"path":"https://landscitech.github.io/ccviR/CODE_DESIGN.html","id":"workflow-style","dir":"","previous_headings":"","what":"Workflow style","title":"Code Design","text":"Workflows (.e. functions, example scripts create internal data) use sections (# Header ——-) create TOC used RStudio.","code":""},{"path":"https://landscitech.github.io/ccviR/CODE_DESIGN.html","id":"naming","dir":"","previous_headings":"","what":"Naming","title":"Code Design","text":"Snake case used wherever possible Test files named test-XX_DESCRIPTION.R, XX order run (try test lower order functions first).","code":""},{"path":"https://landscitech.github.io/ccviR/CODE_DESIGN.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"Code Design","text":"aa_common_docs.R holds documentation common multiple functions. Use @inheritParams pull documentation function parameters common docs. include documentation parameter take precedence.","code":""},{"path":"https://landscitech.github.io/ccviR/CODE_DESIGN.html","id":"random-code-bits","dir":"","previous_headings":"","what":"Random code bits","title":"Code Design","text":"!!! Triple bang (bang-bang-bang) - https://adv-r.hadley.nz/quasiquotation.html?q=!!!#unquoting-many-arguments list, need items arguments function one time. .e., tagList() takes … need tagList(div1, div2, div3) programatically create divs, list, can use tagList(!!!list_of_divs) ‘explode’ (used lot report).","code":""},{"path":"https://landscitech.github.io/ccviR/CODE_DESIGN.html","id":"spatial-data","dir":"","previous_headings":"","what":"Spatial Data","title":"Code Design","text":"creating spatial data, use - Equal Area Albers projection North America (.e. ESRI:102008 protected areas) - CRS 4326 (.e. projection) CCEI raster - analyze_spatial() data transformed match overlapping datasets - Polygons transformed match rasters - matched Mean Annual Temperature - Protected areas matched projected range change rasters (hrasts) - Non-breeding polygon transformed CCEI projection - transform CRS 3857 mapping (simplifying, ’s pretty speedy) Sometimes raster data get’s weird ’s transformed maps (https://github.com/rspatial/terra/issues/1356), NA values become super large. creates warning, can otherwise ignored can fixed loading raster loaded memory. See prep_raster_map(). Speed - projecting checking geometries lat/lon coordinates (opposed projected data) realllllly slow - try clip data transforming - matching CRS, try transform non-complex data match complex data example, protected areas complicated polygon. first clip assessment area (transform assessment area match protected areas). transform protected areas match hs raster.","code":""},{"path":"https://landscitech.github.io/ccviR/CODE_DESIGN.html","id":"inputs","dir":"","previous_headings":"","what":"Inputs","title":"Code Design","text":"Spatial inputs created dynamically update using updateInputsXX() functions re-loading data. means inputs need available loading saved data, spatial data available. Therefore, questions require spatial data created, hidden spatial data available. way can comments evidence restored re-loading data, show spatial analyses rerun.","code":""},{"path":"https://landscitech.github.io/ccviR/CODE_DESIGN.html","id":"adding-new-inputs","dir":"","previous_headings":"","what":"Adding new inputs","title":"Code Design","text":"bit complicated saving restoring process. - Make sure new input included output module part . - Add new input name column_definitions_results.csv - Add new input input_fun shell.exec(::(“data-raw/ui_build_table.csv”)) - input_fun custom function create update function form updateInput_fun. See updateCheck_comment_ui example. - Run data-raw/lookup_tbls.R - Test input saved csv updated reloading","code":""},{"path":[]},{"path":"https://landscitech.github.io/ccviR/CODE_DESIGN.html","id":"namespacing","dir":"","previous_headings":"Shiny Modules","what":"Namespacing","title":"Code Design","text":"Namespacing can bit tricky modules. simplest way, just need use NS() function UI ns variable server (using renderUI(), required anything else going /output input) UI: Use ns <- NS(id) start, wrap UI ids ns(my_id) Server: Use ns <- session$ns start, wrap ids ns(my_id). Notes need use ns(my_id) server creating UI elements .e. renderUI() functions dynamically create UIs, use NS(id, ui_id) inside function, cf get_file_ui() conditionalPanel() ns argument use (https://stackoverflow.com//76905697) NS() (ns) required shinyjs (mainly always called within observer, believe)","code":""},{"path":"https://landscitech.github.io/ccviR/CODE_DESIGN.html","id":"passing-variables-among-modules","dir":"","previous_headings":"Shiny Modules","what":"Passing variables among modules","title":"Code Design","text":"return reactives module like returning outputs function, put list calling name (.e. spatial_data, spatial_data()) pass arguments module functions Remember want list reactives, reactive returns list (otherwise anytime list item updated, whole reactive invalidates)","code":""},{"path":"https://landscitech.github.io/ccviR/CODE_DESIGN.html","id":"circular-modules","dir":"","previous_headings":"Shiny Modules","what":"Circular modules","title":"Code Design","text":"results save module somewhat circular index results passed save output save used results create report. isn’t ideal, allows us keep ui server report module fully contained results module.","code":""},{"path":"https://landscitech.github.io/ccviR/CODE_DESIGN.html","id":"checking-inputs-and-messages","dir":"","previous_headings":"Shiny Modules","what":"Checking inputs and messages","title":"Code Design","text":"use shinyFeedback shinyFiles inputs can use validate(need()) text outputs provide messages file paths ensure spatial files loaded early catch specific messages related file, use ‘error’ verbatim textboxes pass validate(need()) failures.","code":""},{"path":"https://landscitech.github.io/ccviR/CODE_DESIGN.html","id":"testing","dir":"","previous_headings":"","what":"Testing","title":"Code Design","text":"makes testing easier , much possible, code moved functions can tested individually, well used create inputs parts tests. server_setup() checks is_testing() set relative path correctly running tests. Consider running devtools::test(filter = \"test-FILE\") test single file ‘clean’ session. Helps find getting warnings per session, example, without re-run entire set tests.","code":""},{"path":"https://landscitech.github.io/ccviR/CODE_DESIGN.html","id":"test-data","dir":"","previous_headings":"Testing","what":"Test data","title":"Code Design","text":"test data stored inst/extdata demo data test data can created fly test_xxx() functions (e.g., test_files(), test_data(), test_spatial(), depending need testing. test files private stored misc/external_test_files. Tests using files skipped file doesn’t exist (e.g., test-01_checks.R tests M/Z dimensions) terra rasters point C++ object (https://github.com/rspatial/terra/issues/161) shinytest2 things, can’t actually pass rasters app testing shinytest2 (problem interactive testing). mod_c_test() accepts output test_files() passes test_data() test_spatial() internally (ends preserving pointer location) test_full_run.csv - Full run plant test_full_run_migration.csv - Full run migratory species test_questions_only.csv - Run spatial questions index test_sp_changes.csv - Full run plant, spatial questions changed test_empty.csv - empty run file","code":""},{"path":"https://landscitech.github.io/ccviR/CODE_DESIGN.html","id":"interactive-testing","dir":"","previous_headings":"Testing","what":"Interactive testing","title":"Code Design","text":"functions examples section roxygen2 docs can used interactive testing. generally multiple settings using pre-filled spatial file paths, simulating loading data, vanilla run. examples use withr::with_options() simulate certain conditions (e.g., mod_report_test()). cases example must use runApp() doesn’t work (https://stackoverflow.com//78200567).","code":""},{"path":"https://landscitech.github.io/ccviR/CODE_DESIGN.html","id":"testserver","dir":"","previous_headings":"Testing","what":"testServer()","title":"Code Design","text":"possible, testing performed testServer() (Rather shinytest2) https://mastering-shiny.org/scaling-testing.html#testing-reactivity See ?MockShinySession can access testServer Can’t test input recovery previous data doesn’t work update*() family functions (https://mastering-shiny.org/scaling-testing.html#limitations) Can use browser() inside testServer({...}) interactively test set expectations. Errors implying find bottom stack (“Can’t find bottom call tree”) usually just mean snapshot changed, use snapshot_review()","code":""},{"path":"https://landscitech.github.io/ccviR/CODE_DESIGN.html","id":"shinytest2","dir":"","previous_headings":"Testing","what":"shinytest2","title":"Code Design","text":"MUST rebuild package running Shiny tests! see ?shinytest2::AppDriver can access form AppDriver shinytest2 can bit finicky, get details right works well Careful: general error won’t allow app work, running tests can delete snapshots. happens, revert change git, fix app problem retry. Errors test pane imply app isn’t working (specific tests failing) best troubleshooted calling app interactively, using record_test() (don’t actually record , errors messages much better mode, may something simple misspelling function name, example) Errors like “Unable request data server” trying get snapshots may indicate something wrong “Save progress” step. Run app interactively see happens click “Save progress” step application run. app running function, record_test() can used create details test, whole test file (need copy code add existing test). shinyFiles pain test (uses actionButtons, shinytest2 insists can ‘clicked’ set file values), don’t test actual loading directly. Clicking modal buttons: https://github.com/rstudio/shinytest/issues/227 comments “shiny.testmode” set almost always red herrings point general error app. snapshots keep changing small amount, add Sys.sleep(1) force test wait ’s ready","code":""},{"path":[]},{"path":"https://landscitech.github.io/ccviR/CODE_DESIGN.html","id":"shinytest2-error-target-position-can-only-be-set-for-new-windows","dir":"","previous_headings":"Random Notes","what":"shinytest2 error: “Target position can only be set for new windows”","title":"Code Design","text":"happened Google Chrome update (https://stackoverflow.com/questions/79488849/target-position-can---set--new-windows--chromote--r/79489622#79489622) Solution update chromote package >v0.5.0","code":""},{"path":"https://landscitech.github.io/ccviR/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"GNU General Public License","title":"GNU General Public License","text":"Version 3, 29 June 2007Copyright © 2007 Free Software Foundation, Inc. <http://fsf.org/> Everyone permitted copy distribute verbatim copies license document, changing allowed.","code":""},{"path":"https://landscitech.github.io/ccviR/LICENSE.html","id":"preamble","dir":"","previous_headings":"","what":"Preamble","title":"GNU General Public License","text":"GNU General Public License free, copyleft license software kinds works. licenses software practical works designed take away freedom share change works. contrast, GNU General Public License intended guarantee freedom share change versions program–make sure remains free software users. , Free Software Foundation, use GNU General Public License software; applies also work released way authors. can apply programs, . speak free software, referring freedom, price. General Public Licenses designed make sure freedom distribute copies free software (charge wish), receive source code can get want , can change software use pieces new free programs, know can things. protect rights, need prevent others denying rights asking surrender rights. Therefore, certain responsibilities distribute copies software, modify : responsibilities respect freedom others. example, distribute copies program, whether gratis fee, must pass recipients freedoms received. must make sure , , receive can get source code. must show terms know rights. Developers use GNU GPL protect rights two steps: (1) assert copyright software, (2) offer License giving legal permission copy, distribute /modify . developers’ authors’ protection, GPL clearly explains warranty free software. users’ authors’ sake, GPL requires modified versions marked changed, problems attributed erroneously authors previous versions. devices designed deny users access install run modified versions software inside , although manufacturer can . fundamentally incompatible aim protecting users’ freedom change software. systematic pattern abuse occurs area products individuals use, precisely unacceptable. Therefore, designed version GPL prohibit practice products. problems arise substantially domains, stand ready extend provision domains future versions GPL, needed protect freedom users. Finally, every program threatened constantly software patents. States allow patents restrict development use software general-purpose computers, , wish avoid special danger patents applied free program make effectively proprietary. prevent , GPL assures patents used render program non-free. precise terms conditions copying, distribution modification follow.","code":""},{"path":[]},{"path":"https://landscitech.github.io/ccviR/LICENSE.html","id":"id_0-definitions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"0. Definitions","title":"GNU General Public License","text":"“License” refers version 3 GNU General Public License. “Copyright” also means copyright-like laws apply kinds works, semiconductor masks. “Program” refers copyrightable work licensed License. licensee addressed “”. “Licensees” “recipients” may individuals organizations. “modify” work means copy adapt part work fashion requiring copyright permission, making exact copy. resulting work called “modified version” earlier work work “based ” earlier work. “covered work” means either unmodified Program work based Program. “propagate” work means anything , without permission, make directly secondarily liable infringement applicable copyright law, except executing computer modifying private copy. Propagation includes copying, distribution (without modification), making available public, countries activities well. “convey” work means kind propagation enables parties make receive copies. Mere interaction user computer network, transfer copy, conveying. interactive user interface displays “Appropriate Legal Notices” extent includes convenient prominently visible feature (1) displays appropriate copyright notice, (2) tells user warranty work (except extent warranties provided), licensees may convey work License, view copy License. interface presents list user commands options, menu, prominent item list meets criterion.","code":""},{"path":"https://landscitech.github.io/ccviR/LICENSE.html","id":"id_1-source-code","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"1. Source Code","title":"GNU General Public License","text":"“source code” work means preferred form work making modifications . “Object code” means non-source form work. “Standard Interface” means interface either official standard defined recognized standards body, , case interfaces specified particular programming language, one widely used among developers working language. “System Libraries” executable work include anything, work whole, () included normal form packaging Major Component, part Major Component, (b) serves enable use work Major Component, implement Standard Interface implementation available public source code form. “Major Component”, context, means major essential component (kernel, window system, ) specific operating system () executable work runs, compiler used produce work, object code interpreter used run . “Corresponding Source” work object code form means source code needed generate, install, (executable work) run object code modify work, including scripts control activities. However, include work’s System Libraries, general-purpose tools generally available free programs used unmodified performing activities part work. example, Corresponding Source includes interface definition files associated source files work, source code shared libraries dynamically linked subprograms work specifically designed require, intimate data communication control flow subprograms parts work. Corresponding Source need include anything users can regenerate automatically parts Corresponding Source. Corresponding Source work source code form work.","code":""},{"path":"https://landscitech.github.io/ccviR/LICENSE.html","id":"id_2-basic-permissions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"2. Basic Permissions","title":"GNU General Public License","text":"rights granted License granted term copyright Program, irrevocable provided stated conditions met. License explicitly affirms unlimited permission run unmodified Program. output running covered work covered License output, given content, constitutes covered work. License acknowledges rights fair use equivalent, provided copyright law. may make, run propagate covered works convey, without conditions long license otherwise remains force. may convey covered works others sole purpose make modifications exclusively , provide facilities running works, provided comply terms License conveying material control copyright. thus making running covered works must exclusively behalf, direction control, terms prohibit making copies copyrighted material outside relationship . Conveying circumstances permitted solely conditions stated . Sublicensing allowed; section 10 makes unnecessary.","code":""},{"path":"https://landscitech.github.io/ccviR/LICENSE.html","id":"id_3-protecting-users-legal-rights-from-anti-circumvention-law","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"3. Protecting Users’ Legal Rights From Anti-Circumvention Law","title":"GNU General Public License","text":"covered work shall deemed part effective technological measure applicable law fulfilling obligations article 11 WIPO copyright treaty adopted 20 December 1996, similar laws prohibiting restricting circumvention measures. convey covered work, waive legal power forbid circumvention technological measures extent circumvention effected exercising rights License respect covered work, disclaim intention limit operation modification work means enforcing, work’s users, third parties’ legal rights forbid circumvention technological measures.","code":""},{"path":"https://landscitech.github.io/ccviR/LICENSE.html","id":"id_4-conveying-verbatim-copies","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"4. Conveying Verbatim Copies","title":"GNU General Public License","text":"may convey verbatim copies Program’s source code receive , medium, provided conspicuously appropriately publish copy appropriate copyright notice; keep intact notices stating License non-permissive terms added accord section 7 apply code; keep intact notices absence warranty; give recipients copy License along Program. may charge price price copy convey, may offer support warranty protection fee.","code":""},{"path":"https://landscitech.github.io/ccviR/LICENSE.html","id":"id_5-conveying-modified-source-versions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"5. Conveying Modified Source Versions","title":"GNU General Public License","text":"may convey work based Program, modifications produce Program, form source code terms section 4, provided also meet conditions: ) work must carry prominent notices stating modified , giving relevant date. b) work must carry prominent notices stating released License conditions added section 7. requirement modifies requirement section 4 “keep intact notices”. c) must license entire work, whole, License anyone comes possession copy. License therefore apply, along applicable section 7 additional terms, whole work, parts, regardless packaged. License gives permission license work way, invalidate permission separately received . d) work interactive user interfaces, must display Appropriate Legal Notices; however, Program interactive interfaces display Appropriate Legal Notices, work need make . compilation covered work separate independent works, nature extensions covered work, combined form larger program, volume storage distribution medium, called “aggregate” compilation resulting copyright used limit access legal rights compilation’s users beyond individual works permit. Inclusion covered work aggregate cause License apply parts aggregate.","code":""},{"path":"https://landscitech.github.io/ccviR/LICENSE.html","id":"id_6-conveying-non-source-forms","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"6. Conveying Non-Source Forms","title":"GNU General Public License","text":"may convey covered work object code form terms sections 4 5, provided also convey machine-readable Corresponding Source terms License, one ways: ) Convey object code , embodied , physical product (including physical distribution medium), accompanied Corresponding Source fixed durable physical medium customarily used software interchange. b) Convey object code , embodied , physical product (including physical distribution medium), accompanied written offer, valid least three years valid long offer spare parts customer support product model, give anyone possesses object code either (1) copy Corresponding Source software product covered License, durable physical medium customarily used software interchange, price reasonable cost physically performing conveying source, (2) access copy Corresponding Source network server charge. c) Convey individual copies object code copy written offer provide Corresponding Source. alternative allowed occasionally noncommercially, received object code offer, accord subsection 6b. d) Convey object code offering access designated place (gratis charge), offer equivalent access Corresponding Source way place charge. need require recipients copy Corresponding Source along object code. place copy object code network server, Corresponding Source may different server (operated third party) supports equivalent copying facilities, provided maintain clear directions next object code saying find Corresponding Source. Regardless server hosts Corresponding Source, remain obligated ensure available long needed satisfy requirements. e) Convey object code using peer--peer transmission, provided inform peers object code Corresponding Source work offered general public charge subsection 6d. separable portion object code, whose source code excluded Corresponding Source System Library, need included conveying object code work. “User Product” either (1) “consumer product”, means tangible personal property normally used personal, family, household purposes, (2) anything designed sold incorporation dwelling. determining whether product consumer product, doubtful cases shall resolved favor coverage. particular product received particular user, “normally used” refers typical common use class product, regardless status particular user way particular user actually uses, expects expected use, product. product consumer product regardless whether product substantial commercial, industrial non-consumer uses, unless uses represent significant mode use product. “Installation Information” User Product means methods, procedures, authorization keys, information required install execute modified versions covered work User Product modified version Corresponding Source. information must suffice ensure continued functioning modified object code case prevented interfered solely modification made. convey object code work section , , specifically use , User Product, conveying occurs part transaction right possession use User Product transferred recipient perpetuity fixed term (regardless transaction characterized), Corresponding Source conveyed section must accompanied Installation Information. requirement apply neither third party retains ability install modified object code User Product (example, work installed ROM). requirement provide Installation Information include requirement continue provide support service, warranty, updates work modified installed recipient, User Product modified installed. Access network may denied modification materially adversely affects operation network violates rules protocols communication across network. Corresponding Source conveyed, Installation Information provided, accord section must format publicly documented (implementation available public source code form), must require special password key unpacking, reading copying.","code":""},{"path":"https://landscitech.github.io/ccviR/LICENSE.html","id":"id_7-additional-terms","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"7. Additional Terms","title":"GNU General Public License","text":"“Additional permissions” terms supplement terms License making exceptions one conditions. Additional permissions applicable entire Program shall treated though included License, extent valid applicable law. additional permissions apply part Program, part may used separately permissions, entire Program remains governed License without regard additional permissions. convey copy covered work, may option remove additional permissions copy, part . (Additional permissions may written require removal certain cases modify work.) may place additional permissions material, added covered work, can give appropriate copyright permission. Notwithstanding provision License, material add covered work, may (authorized copyright holders material) supplement terms License terms: ) Disclaiming warranty limiting liability differently terms sections 15 16 License; b) Requiring preservation specified reasonable legal notices author attributions material Appropriate Legal Notices displayed works containing ; c) Prohibiting misrepresentation origin material, requiring modified versions material marked reasonable ways different original version; d) Limiting use publicity purposes names licensors authors material; e) Declining grant rights trademark law use trade names, trademarks, service marks; f) Requiring indemnification licensors authors material anyone conveys material (modified versions ) contractual assumptions liability recipient, liability contractual assumptions directly impose licensors authors. non-permissive additional terms considered “restrictions” within meaning section 10. Program received , part , contains notice stating governed License along term restriction, may remove term. license document contains restriction permits relicensing conveying License, may add covered work material governed terms license document, provided restriction survive relicensing conveying. add terms covered work accord section, must place, relevant source files, statement additional terms apply files, notice indicating find applicable terms. Additional terms, permissive non-permissive, may stated form separately written license, stated exceptions; requirements apply either way.","code":""},{"path":"https://landscitech.github.io/ccviR/LICENSE.html","id":"id_8-termination","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"8. Termination","title":"GNU General Public License","text":"may propagate modify covered work except expressly provided License. attempt otherwise propagate modify void, automatically terminate rights License (including patent licenses granted third paragraph section 11). However, cease violation License, license particular copyright holder reinstated () provisionally, unless copyright holder explicitly finally terminates license, (b) permanently, copyright holder fails notify violation reasonable means prior 60 days cessation. Moreover, license particular copyright holder reinstated permanently copyright holder notifies violation reasonable means, first time received notice violation License (work) copyright holder, cure violation prior 30 days receipt notice. Termination rights section terminate licenses parties received copies rights License. rights terminated permanently reinstated, qualify receive new licenses material section 10.","code":""},{"path":"https://landscitech.github.io/ccviR/LICENSE.html","id":"id_9-acceptance-not-required-for-having-copies","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"9. Acceptance Not Required for Having Copies","title":"GNU General Public License","text":"required accept License order receive run copy Program. Ancillary propagation covered work occurring solely consequence using peer--peer transmission receive copy likewise require acceptance. However, nothing License grants permission propagate modify covered work. actions infringe copyright accept License. Therefore, modifying propagating covered work, indicate acceptance License .","code":""},{"path":"https://landscitech.github.io/ccviR/LICENSE.html","id":"id_10-automatic-licensing-of-downstream-recipients","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"10. Automatic Licensing of Downstream Recipients","title":"GNU General Public License","text":"time convey covered work, recipient automatically receives license original licensors, run, modify propagate work, subject License. responsible enforcing compliance third parties License. “entity transaction” transaction transferring control organization, substantially assets one, subdividing organization, merging organizations. propagation covered work results entity transaction, party transaction receives copy work also receives whatever licenses work party’s predecessor interest give previous paragraph, plus right possession Corresponding Source work predecessor interest, predecessor can get reasonable efforts. may impose restrictions exercise rights granted affirmed License. example, may impose license fee, royalty, charge exercise rights granted License, may initiate litigation (including cross-claim counterclaim lawsuit) alleging patent claim infringed making, using, selling, offering sale, importing Program portion .","code":""},{"path":"https://landscitech.github.io/ccviR/LICENSE.html","id":"id_11-patents","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"11. Patents","title":"GNU General Public License","text":"“contributor” copyright holder authorizes use License Program work Program based. work thus licensed called contributor’s “contributor version”. contributor’s “essential patent claims” patent claims owned controlled contributor, whether already acquired hereafter acquired, infringed manner, permitted License, making, using, selling contributor version, include claims infringed consequence modification contributor version. purposes definition, “control” includes right grant patent sublicenses manner consistent requirements License. contributor grants non-exclusive, worldwide, royalty-free patent license contributor’s essential patent claims, make, use, sell, offer sale, import otherwise run, modify propagate contents contributor version. following three paragraphs, “patent license” express agreement commitment, however denominated, enforce patent (express permission practice patent covenant sue patent infringement). “grant” patent license party means make agreement commitment enforce patent party. convey covered work, knowingly relying patent license, Corresponding Source work available anyone copy, free charge terms License, publicly available network server readily accessible means, must either (1) cause Corresponding Source available, (2) arrange deprive benefit patent license particular work, (3) arrange, manner consistent requirements License, extend patent license downstream recipients. “Knowingly relying” means actual knowledge , patent license, conveying covered work country, recipient’s use covered work country, infringe one identifiable patents country reason believe valid. , pursuant connection single transaction arrangement, convey, propagate procuring conveyance , covered work, grant patent license parties receiving covered work authorizing use, propagate, modify convey specific copy covered work, patent license grant automatically extended recipients covered work works based . patent license “discriminatory” include within scope coverage, prohibits exercise , conditioned non-exercise one rights specifically granted License. may convey covered work party arrangement third party business distributing software, make payment third party based extent activity conveying work, third party grants, parties receive covered work , discriminatory patent license () connection copies covered work conveyed (copies made copies), (b) primarily connection specific products compilations contain covered work, unless entered arrangement, patent license granted, prior 28 March 2007. Nothing License shall construed excluding limiting implied license defenses infringement may otherwise available applicable patent law.","code":""},{"path":"https://landscitech.github.io/ccviR/LICENSE.html","id":"id_12-no-surrender-of-others-freedom","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"12. No Surrender of Others’ Freedom","title":"GNU General Public License","text":"conditions imposed (whether court order, agreement otherwise) contradict conditions License, excuse conditions License. convey covered work satisfy simultaneously obligations License pertinent obligations, consequence may convey . example, agree terms obligate collect royalty conveying convey Program, way satisfy terms License refrain entirely conveying Program.","code":""},{"path":"https://landscitech.github.io/ccviR/LICENSE.html","id":"id_13-use-with-the-gnu-affero-general-public-license","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"13. Use with the GNU Affero General Public License","title":"GNU General Public License","text":"Notwithstanding provision License, permission link combine covered work work licensed version 3 GNU Affero General Public License single combined work, convey resulting work. terms License continue apply part covered work, special requirements GNU Affero General Public License, section 13, concerning interaction network apply combination .","code":""},{"path":"https://landscitech.github.io/ccviR/LICENSE.html","id":"id_14-revised-versions-of-this-license","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"14. Revised Versions of this License","title":"GNU General Public License","text":"Free Software Foundation may publish revised /new versions GNU General Public License time time. new versions similar spirit present version, may differ detail address new problems concerns. version given distinguishing version number. Program specifies certain numbered version GNU General Public License “later version” applies , option following terms conditions either numbered version later version published Free Software Foundation. Program specify version number GNU General Public License, may choose version ever published Free Software Foundation. Program specifies proxy can decide future versions GNU General Public License can used, proxy’s public statement acceptance version permanently authorizes choose version Program. Later license versions may give additional different permissions. However, additional obligations imposed author copyright holder result choosing follow later version.","code":""},{"path":"https://landscitech.github.io/ccviR/LICENSE.html","id":"id_15-disclaimer-of-warranty","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"15. Disclaimer of Warranty","title":"GNU General Public License","text":"WARRANTY PROGRAM, EXTENT PERMITTED APPLICABLE LAW. EXCEPT OTHERWISE STATED WRITING COPYRIGHT HOLDERS /PARTIES PROVIDE PROGRAM “” WITHOUT WARRANTY KIND, EITHER EXPRESSED IMPLIED, INCLUDING, LIMITED , IMPLIED WARRANTIES MERCHANTABILITY FITNESS PARTICULAR PURPOSE. ENTIRE RISK QUALITY PERFORMANCE PROGRAM . PROGRAM PROVE DEFECTIVE, ASSUME COST NECESSARY SERVICING, REPAIR CORRECTION.","code":""},{"path":"https://landscitech.github.io/ccviR/LICENSE.html","id":"id_16-limitation-of-liability","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"16. Limitation of Liability","title":"GNU General Public License","text":"EVENT UNLESS REQUIRED APPLICABLE LAW AGREED WRITING COPYRIGHT HOLDER, PARTY MODIFIES /CONVEYS PROGRAM PERMITTED , LIABLE DAMAGES, INCLUDING GENERAL, SPECIAL, INCIDENTAL CONSEQUENTIAL DAMAGES ARISING USE INABILITY USE PROGRAM (INCLUDING LIMITED LOSS DATA DATA RENDERED INACCURATE LOSSES SUSTAINED THIRD PARTIES FAILURE PROGRAM OPERATE PROGRAMS), EVEN HOLDER PARTY ADVISED POSSIBILITY DAMAGES.","code":""},{"path":"https://landscitech.github.io/ccviR/LICENSE.html","id":"id_17-interpretation-of-sections-15-and-16","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"17. Interpretation of Sections 15 and 16","title":"GNU General Public License","text":"disclaimer warranty limitation liability provided given local legal effect according terms, reviewing courts shall apply local law closely approximates absolute waiver civil liability connection Program, unless warranty assumption liability accompanies copy Program return fee. END TERMS CONDITIONS","code":""},{"path":"https://landscitech.github.io/ccviR/LICENSE.html","id":"how-to-apply-these-terms-to-your-new-programs","dir":"","previous_headings":"","what":"How to Apply These Terms to Your New Programs","title":"GNU General Public License","text":"develop new program, want greatest possible use public, best way achieve make free software everyone can redistribute change terms. , attach following notices program. safest attach start source file effectively state exclusion warranty; file least “copyright” line pointer full notice found. Also add information contact electronic paper mail. program terminal interaction, make output short notice like starts interactive mode: hypothetical commands show w show c show appropriate parts General Public License. course, program’s commands might different; GUI interface, use “box”. also get employer (work programmer) school, , sign “copyright disclaimer” program, necessary. information , apply follow GNU GPL, see <http://www.gnu.org/licenses/>. GNU General Public License permit incorporating program proprietary programs. program subroutine library, may consider useful permit linking proprietary applications library. want , use GNU Lesser General Public License instead License. first, please read <http://www.gnu.org/philosophy/--lgpl.html>.","code":"<one line to give the program's name and a brief idea of what it does.> Copyright (C) <year>  <name of author>  This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.  This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.  You should have received a copy of the GNU General Public License along with this program.  If not, see <http://www.gnu.org/licenses/>. <program>  Copyright (C) <year>  <name of author> This program comes with ABSOLUTELY NO WARRANTY; for details type 'show w'. This is free software, and you are welcome to redistribute it under certain conditions; type 'show c' for details."},{"path":[]},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"what-is","dir":"Articles","previous_headings":"1 Introduction","what":"What is the ccviR app?","title":"Using the ccviR App","text":"ccviR R package Shiny app developed Environment Climate Change Canada (ECCC) implement NatureServe Climate Change Vulnerability Index (CCVI) version 3.02 (Young et al. 2016; Endicott Naujokaitis-Lewis 2024). designed assist land managers rapidly assess relative climate change vulnerability terrestrial aquatic plant animal species, well lichens across North America (Endicott Naujokaitis-Lewis 2024). package allows geospatial aspects calculating CCVI done R, removing need separate GIS calculations. app provides interactive application designed offer user-friendly simple interface calculating NatureServe CCVI. NatureServe CCVI rapid assessment tool designed allow relative grouping unrelated taxa vulnerability climate change highlight factors contribute climate change vulnerability individual species groups taxa. Outputs NatureServe CCVI can inform conservation decisions identify actions increase species’ resilience climate change. See Young et. al (2012), Young et. al. (2015) NatureServe CCVI Guidelines detailed descriptions index created. Recently NatureServe produced new version CCVI, Version 4.0. new version builds Version 3.02 significantly changes vulnerability questions, exposure calculation scoring algorithm. version CCVI available Excel Spreadsheet interactive webpage version released Canada. improvements Version 4.0, many changes yet peer-reviewed tool widely used far. hand, previous version NatureServe CCVI used extensively State Wildlife Action Plans US reviewed several peer-reviewed papers (Young, Dubois, Rowland 2015; Young et al. 2012). Therefore, continue use Version 3.02 consider adopting improvements Version 4.0 future. CCVI designed assess climate change vulnerability terrestrial aquatic plants, animals (including migratory species), lichens, within defined geographic area USA Canada (.e., North America). index contemplates vulnerability based projected change climate baseline 1961-1990 year 2050. NatureServe CCVI combines several components contribute species’ vulnerability climate change (Figure 1.1). include, exposure changes temperature moisture (Section ), indirect exposure changes brought climate change (e.g. sea level rise; Section B), traits related species’ sensitivity ability adapt climate change (Section C). also optionally incorporates results documented modeled responses climate change (Section D; Young et al. (2012); Young et al. (2016)). resulting CCVI ranks include: ‘Less Vulnerable’, ‘Moderately Vulnerable’, ‘Highly Vulnerable’, ‘Extremely Vulnerable’ ‘Insufficient Evidence’. Exposure assessed determining proportion species’ range falls six classes temperature moisture change, used assign exposure multiplier. vulnerability factors Sections B, C optionally D scored scale ‘neutral’ (score: 0) ‘greatly increases vulnerability’ (score: 3). indirect exposure, sensitivity adaptive capacity scores multiplied exposure multiplier summed. final CCVI value result applying thresholds total scores balancing sensitivity adaptive capacity rank documented modeled response rank. See Section 7 detailed explanation scoring algorithm. Figure 1.1: NatureServe CCVI calculated combining exposure climate change indirect exposure, sensitivity adaptive capacity determine CCVI index value. Documented modelled responses climate change can also incorporated. ccviR application run locally users computer currently hosted online. Results can saved csv file pdf report can generated summarise results. CCVI rapid assessment tool relative climate change vulnerability assessments still significant amount time required source information species, gather evidence answer indirect exposure, sensitivity adaptive capacity questions validate results assessment.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"benefits-compared-to-natureserves-ccvi","dir":"Articles","previous_headings":"1 Introduction","what":"Benefits compared to NatureServe’s CCVI:","title":"Using the ccviR App","text":"ccviR uses questions scoring NatureServe Climate Change Vulnerability Index 3.02, offers several improvements: Spatial analyses performed app minimal GIS skills needed Simultaneously calculates index multiple scenarios , emissions scenarios, time horizons GCMs Outputs include interactive maps graphs explain drivers index value Generates report communicate results assessment Includes second Shiny app classify new climate data sets exposure categories","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"what-can-it-be-used-for","dir":"Articles","previous_headings":"1 Introduction","what":"What can it be used for?","title":"Using the ccviR App","text":"outputs index designed support stewards scientists assess relative vulnerability species climate change defined area, called assessment area. area chosen reflect scale results assessment applied. Results multiple species can compared directly long assessment area climate data used assessments. According Young et al., (2016), outputs can used : Determine species vulnerable climate change within assessment area. Identify common drivers vulnerability species area. Standardise assessment, improve communication, facilitate coordination climate change action across jurisdictional boundaries. Help prioritise management actions species (combined ecological, social economic factors importance planning, species status, recoverability, cost). Identify refugia may exist planning protection. Identify information gaps impeding assessment management species relevant climate change vulnerability management help prioritise subsequent research efforts. addition, results CCVI can used help inform risk assessments recovery planning species. scoring criteria thresholds directly link assessment frameworks (e.g. IUCN-CMP threat classification system), information gathered CCVI assessment presented results can applied re-interpreted inform assessments. See Appendix detailed explanation ccviR outputs can inform COSEWIC Status Reports creation Recovery Strategies.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"known-limitations","dir":"Articles","previous_headings":"1 Introduction","what":"Known limitations","title":"Using the ccviR App","text":"use outside North America. Assumes temporal scale 2050. applicable marine species. provide probabilistic information species decline rather relative rank.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"information-you-need-to-get-started","dir":"Articles","previous_headings":"","what":"Information you need to get started","title":"Using the ccviR App","text":"ccviR requires assessors provide spatial information series judgements inform questions exposure, sensitivity adaptive capacity. section outline key requirements minimum information needs. information factors rationale consideration provided NatureServe CCVI Guidelines (Young et al. 2016). See Section 4.1 tips organize information.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"installing-r-and-the-ccvir-package","dir":"Articles","previous_headings":"2 Information you need to get started","what":"Installing R and the ccviR package","title":"Using the ccviR App","text":"ccviR Application launched open source software application called R. need download R optionally RStudio use app. Instructions launch app shown . Users need know code R, however, familiarity R can helpful. Next need install ccviR package copying following R Console pressing Enter. R Console window located bottom left RStudio. “>” start line indicates console ready input. take several minutes first time installed also install packages ccviR depends . can ignore text printed, just reporting installation progress.","code":"install.packages(\"remotes\") remotes::install_github(\"LandSciTech/ccviR@dev\", type = \"binary\", upgrade = TRUE)"},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"spatial-data","dir":"Articles","previous_headings":"2 Information you need to get started","what":"Spatial data","title":"Using the ccviR App","text":"required optional data layers ccviR analysis. Section 5 provides information sourcing spatial data. ccviR assumes users introductory level knowledge experience relevant reviewing spatial data. case, recommend finding someone GIS experience help find review data layers first analysis. polygon data provided shapefile raster data can common raster format GeoTiff (“.tif”) format recommended. Required spatial datasets follows (Refer Section 5 additional information): Climate data (required): Climate data already prepared use ccviR. need download data unzip use app. prepared data uses 1961-1990 normal period historical data 2050s timeframe RCP 4.5 RCP 8.5 scenarios future projections. climate data species assessed, need download even multiple assessments. See “Preparing Custom Climate Data” use different climate data set. Species North American global range polygon (required): Ideally complete area occupied species North America including areas outside assessment area. Assessment area polygon (required): management area within North America species vulnerability assessed. example, country, province, state, protected area. Optional species-specific spatial datasets useful specific analyses: Physiological thermal niche (PTN) polygon (Optional): PTN polygon include cool cold environments occupied species may lost reduced assessment area climate change. include species restricted frost pockets, north-facing slopes, shady ravines, alpine areas among coldest habitats assessment area species unlikely able shift within assessment area cool areas lost. spatial data PTN available question can answered manually left unknown. rare spatial data physiological thermal niche filled manually cases. Non-breeding range polygon (Optional): migratory species provide polygon species’ range non-breeding season. Projected range change raster (Optional): modeled change species range caused climate change. values raster cells indicate whether cell lost, maintained, gained never included range. dataset used modeled response analysis determine proportion habitat lost, maintained, gained within assessment area. Protected area polygon (Optional): relevant projected range change raster supplied. Polygon data protected areas Canada United States already prepared use ccviR. need download data unzip use app. Note large file running spatial analysis rendering maps take longer protected areas polygons supplied.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"vulnerability-information","dir":"Articles","previous_headings":"2 Information you need to get started","what":"Vulnerability information","title":"Using the ccviR App","text":"Assessors required provide estimates least 13 factors vulnerability assessment section (Table 2.1). must include information least: 3 factors Section B, 10 factors Section C. Additional questions related documented modeled response (Section D) optional (Table 2.2). Questions may left blank enough information available answer given score 0 meaning impact index value. Assessors expect many questions scored ‘neutral’ since vulnerability factors relevant species. index can reach ‘Extremely Vulnerable’ level 1-2 factors scored ‘greatly increases vulnerability’ exposure high. better understand information required score factor refer NatureServe CCVI Guidelines (Young et al. 2016). Table 2.1:  Vulnerability factors assessed CCVI. [1] GI = Greatly increases (3), = Increases (2), SI= Somewhat increases (1), N= Neutral (0). [2] Scores vulnerability factor multiplied exposure multiplier determined climate data. See Section 7 details scoring. Table 2.2:  Documented modeled responses climate change assessed CCVI. [1] GI = Greatly increases (3), = Increases (2), SI = Somewhat increases (1), N = Neutral (0)","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"run-a-demonstration","dir":"Articles","previous_headings":"","what":"Run a demonstration","title":"Using the ccviR App","text":"using app assess real species follow along tutorial walks app demo dataset included ccviR package. tutorial explains navigate app interpret outputs created app. already installed ccviR, begin installing ccviR package GitHub : , run code launch app browser demo data: open browser new tab, note closing either browser window R/Rstudio window close assessment.","code":"install.packages(\"remotes\") remotes::install_github(\"LandSciTech/ccviR@dev\", type = \"binary\", upgrade = TRUE) library(ccviR) run_ccvi_app(\"demo\")"},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"getting-started","dir":"Articles","previous_headings":"3 Run a demonstration","what":"Getting started","title":"Using the ccviR App","text":"Upon launching app, greeted Welcome Tab includes option start new assessment load previously saved assessment. also includes button download definitions columns included csv file saved assessments. Press “Start” begin calculating index.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"assessment-and-species-information","dir":"Articles","previous_headings":"3 Run a demonstration","what":"Assessment and Species Information","title":"Using the ccviR App","text":"page, provide basic details assessment species. “Assessment Notes” text box used capture details assessment process recorded elsewhere. include strategy used gather evidence inform assessment, links data sets used, etc. Make sure select appropriate taxonomic group since aspects index conditional . better understand meaning cave dwelling migratory check boxes see NatureServe CCVI Guidelines. demonstration select “Bird” Major Taxonomic Group drop check box migratory species. Input text remaining boxes. Click “Next”.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"spatial-data-analysis","dir":"Articles","previous_headings":"3 Run a demonstration","what":"Spatial Data Analysis","title":"Using the ccviR App","text":"page, load spatial data used index run spatial analysis exposure climate change. demonstration, data provided package. includes small climate change data set covering New Brunswick RCP 4.5 RCP 8.5 emissions scenarios, Climate Change Exposure Index rasters migratory species, species range polygon, assessment area polygon, PTN polygon, protected areas file, range change rasters RCP 4.5 RCP 8.5 scenarios. “Folder location prepared climate data” need tell app stored climate data use. real assessment either folder unzipped downloaded climate data output folder selected data preparation app. demonstration prepared climate data can found “clim_files > processed”. Click processed folder click Select bottom right pop-.  Next, select range polygon species (“rng_poly.shp”), assessment area polygon (“assess_poly.shp”), physiological thermal niche polygon (“ptn_poly.shp”), non-breeding range polygon (“non_breed.shp”), protected area polygon (“protected_areas.shp”). projected range change raster, select “Yes, multiple range change rasters provided, one scenario.” open new section can select raster file scenario. Select “rng_chg_45.tif” RCP 4.5 scenario “rng_chg_85.tif” RCP 8.5 scenario. range change rasters available scenario, single raster can used assumes projected range change scenarios.  Next, specify input raster classified lost, gained, maintained suitable. classification depend values raster working . demonstration, use default values raster lost -1, maintained 0, gained 1. suitable used flagged 99. gain multiplier allows ignore gains setting 0 leave 1 assumes model already accounted whether habitat gains likely realized.  , click “Run Spatial Analysis”. progress bar bottom right show data processed. “Complete” message appears, click “Next”.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"section-a---exposure-results","dir":"Articles","previous_headings":"3 Run a demonstration","what":"Section A - Exposure Results","title":"Using the ccviR App","text":"Exposure Results page displays results spatial data analysis interactive maps climate change exposure. Exposure determined change temperature moisture expected occur future within species range assessment area. exposure maps created subtracting future climate historical climate classifying results six classes (low high level exposure) based median 1/2 interquartile range. Thus, negative values temperature indicate warmer conditions (°C) negative values moisture (mm) indicate drier conditions. tables maps outline classes proportion species range class. exposure multiplier determined level exposure. used modify sensitivity adaptive capacity components index based exposure climate change. See Section 7 details. view map different scenarios uncheck box next last layer reveal one underneath. real climate data cover North America demonstration using subset New Brunswick.   non-breeding range species used determine migratory exposure index based climate change exposure index (CCEI). CCEI metric climate change exposure indicates level exposure temperature moisture change using Euclidean distance. See NatureServe guidelines full description. CCEI broken four categories exposure proportion non-breeding range overlapping category used determine migratory exposure index value. maps can used explore spatial distribution species’ exposure climate change. index produce one value whole species range, exposure maps can explored find areas less exposure prioritized areas need special attention areas serve climate refugia. finished exploring maps click “Next”.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"sections-b-c-d---vulnerability-questions","dir":"Articles","previous_headings":"3 Run a demonstration","what":"Sections B, C, D - Vulnerability Questions","title":"Using the ccviR App","text":"Vulnerability questions detailed questions index uses score species’ indirect exposure, sensitivity, adaptive capacity modeled documented responses climate change. Descriptions interpret score questions available NatureServe guidelines included pop-click “” button next question. ensure index consistently applied must read guidelines question answering . three sections vulnerability questions: Section B: Indirect Exposure Climate Change, Section C: Sensitivity Adaptive Capacity, Section D: Documented Modeled Response Climate Change. Section B Section C required - less 13 24 questions answered index result “Insufficient Evidence”. Section D optional - none questions answered index calculated without .  Answering vulnerability questions real species significant task requiring expert knowledge detailed literature search. See Section 5.7 information go . demonstration, can select check box want question. can check one box reflect uncertainty. multiple boxes selected treated equally likely. Questions unknown can left blank. Try different versions see affects result! question evidence dropdown box can select sources evidence used comment section. filled detailed information answer reached description evidence used support assessment. size comment box can increased dragging bottom right corner. Remember click save button frequently app lose information. sections questions spatial component. questions includes map table showing data summarized. check box pre-selected based spatial data analysis can changed needed.  modeled response climate change different depending climate change scenario used. range change raster supplied scenario modeled future range change map protected areas map includes layer scenario can toggled way exposure maps. responses questions can edited multiple scenarios used.  Note check box spatial question changed “Run Spatial Analysis” button clicked , see warning value check boxes questions spatial component updated value based re-run spatial analysis. ‘Spatial Vulnerability Questions’ comments affected though, can explain reason adjustments comments remake adjustments still applicable. spatial data vulnerability question provided ‘Spatial Data Analysis’ tab map included question can answered using non-spatial information left blank unknown. Click “Next” answered questions section.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"index-results","dir":"Articles","previous_headings":"3 Run a demonstration","what":"Index Results","title":"Using the ccviR App","text":"Index Results page, first section highlights Data Completeness: many questions answered section, whether sufficient number answered, many specify type evidence used. index reliable questions answered. can return specific Sections add evidence answer questions insufficient Data Completeness.  Next, click “Calculate CCVI” calculate index value. finished, first section presents Climate Change Vulnerability Index Migratory Exposure Index climate scenario.  account uncertainty vulnerability questions can provide one answer question. question average score across checkboxes selected used calculate final index uncertainty index value also explored using Monte Carlo simulations. simulation one selected values picked vulnerability question index re-calculated. repeated 1000 times. process assumes checkboxes selected question equally likely. Variation Index bar chart shows proportion simulations index value scenario. simulations index value uncertainty answers vulnerability questions influence index. index values different index value less certain.  next graph shows scores based exposure sensitivity adaptive capacity (Sections , B C) combined scores based documented modeled response climate change (Section D), produce qualitative index value. colours show location thresholds used determine index, points show score scenario lines show range scores produced Monte Carlo simulations. details scoring algorithm can found Section 7.  last graph shows scores vulnerability factor scenario. scores reflect answer question exposure multiplier applied. Use mouse show pop-bar get details score reached.  go back change answer vulnerability question need click “Calculate CCVI” button see updated results.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"render-a-report","dir":"Articles","previous_headings":"3 Run a demonstration","what":"Render a report","title":"Using the ccviR App","text":"can generate pdf report summarizing results assessment clicking “Generate report” button bottom results page. report produced include index value, map range, map combined moisture temperature exposure, response vulnerability question including types evidence used text comment section. rendered, report appear downloads. Rendering report requires Chrome, Chromium, Edge installed computer. missing , message appear let know.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"saving-the-app","dir":"Articles","previous_headings":"3 Run a demonstration","what":"Saving the app","title":"Using the ccviR App","text":"state app can saved clicking “Save progress” button bottom app point assessment. Choose name location save csv file app content easy remember, need find load saved app. load app saved csv file click “Select file” “Load data previous assessment” bottom Welcome page select saved csv file. Note, path spatial data stored, data , app able load data moved name changed. data moved, get error message can go back Spatial Analysis tab select new file location press “Run Spatial Analysis” re-run spatial analysis (including spatial questions manually specified) keep answers non-spatial vulnerability questions saved file. sure save progress throughout assessment prevent loss data. Refreshing app closing R/RStudio result progress lost. recommended save progress step away assessment extended period time input data difficult/time consuming reproduce (e.g. filling Vulnerability Questions). app closed browser temporary csv file stored users “Temp” folder case app closed unintentionally. find file, copy paste path shown R Console app closes File Explorer save file permanent location. interpret names columns saved csv file can download column definitions bottom Welcome page. made changes questions running Index calculations get message indicating Index scores saved. prevent saving index scores match questions answered. save Index scores, re-calculate Index “Save progress”.","code":""},{"path":[]},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"new-assessment","dir":"Articles","previous_headings":"4 Tips for using the app","what":"Starting a new ccviR assessment","title":"Using the ccviR App","text":"Organizing files used assessment within one folder make easier find files app. Follow steps setup new project: Open RStudio Click File > New Project… Select New Directory, New Project Give new directory (aka folder) meaningful name use Browse button choose store existing files. Click Create Project. open new project RStudio. Navigate directory created Step 4. Windows File Explorer see new folder created name chose contain “.Rproj” file. folder store information related assessment. can add sub-folders make sense assessment. example, add folder species assess, separate folders input data saved results app. folder also unzip climate data package, can downloaded . Now ready start assessment!","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"launching-the-app","dir":"Articles","previous_headings":"4 Tips for using the app","what":"Launching the app","title":"Using the ccviR App","text":"app launched typing run_ccvi_app() R Console hitting Enter. R Console window located bottom left RStudio. “>” start line indicates console ready input. launch app user’s default internet browser. file selection windows start current working directory. run app data stored different folder can call run_ccvi_app() folder path first argument. example, data stored subdirectory working directory named “data”, call run_ccvi_app(\"data\") avoid open data folder every time select file. Alternatively, complete path data folder can supplied e.g. “C:/Users/username/Documents/path//folder” (Note paths R must supplied using forward slashes).","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"multiple-related-assessments","dir":"Articles","previous_headings":"4 Tips for using the app","what":"Multiple related assessments","title":"Using the ccviR App","text":"can use saved partially completed assessment template running multiple related assessments. example, assess multiple populations species different locations may different stressors, fill app information change populations save state app csv clicking “Save Progress”. population launch new assessment, click “Load previous assessment” select template csv. modify specific population save completed assessment new csv file. may also wish complete multiple assessments species want enter different answers vulnerability questions depending climate change scenario used. Multiple climate scenarios can included single assessment affect exposure multiplier optionally modelled response climate change. However, vulnerability questions assumed constant across scenarios. example, sea level rise expected different impact RCP 8.5 4.5 need perform two separate assessments reflect .","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"troubleshooting","dir":"Articles","previous_headings":"4 Tips for using the app","what":"Troubleshooting","title":"Using the ccviR App","text":"problem app can look output R Console clue going wrong. output include messages, warnings error messages produced. can ignore warnings unless something else gone wrong. errors show app situations app go grey error message can found R console. problem realated spatial data inputs may necessary open spatial files GIS application (e.g, QGIS ArcGIS) investigate problem. unable solve problem , can ask question report issue package GitHub page. submitting issue sure include enough information app developers can recreate problem experiencing. include screenshots error messages received, links data produced error description steps needed reproduce error.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"apply-index","dir":"Articles","previous_headings":"","what":"Scientific considerations for applying the index","title":"Using the ccviR App","text":"section explore details index calculated inform decisions made data evidence used.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"climate-data","dir":"Articles","previous_headings":"5 Scientific considerations for applying the index","what":"Climate data","title":"Using the ccviR App","text":"climate data used app contains five raster files summarise different aspects climate used index. Difference historical future mean annual temperature (MAT). Used determine exposure temperature change. Difference historical future climate moisture deficit (CMD). Used determine exposure change moisture regime. CMD potential evapotranspiration minus amount precipitation accounts impact increased temperatures water stress. Historical mean annual precipitation (MAP). Used assess amount variation MAP across locations species range answer question C2bi. Difference historical maximum warmest month temperature (MWMT) minimum coldest month temperature (MCMT). Used approximate amount broad scale temperature variation species experienced historically across range answer question C2ai. Climate Change Exposure Index (CCEI). CCEI metric climate change exposure indicates level exposure temperature moisture change using Euclidean distance. See Section 5.4 full description. overlap CCEI non-breeding range polygon used determine Migratory Exposure Index. data classified based median interquartile range future change MAT CMD based thresholds defined NatureServe Guidelines MAP MWMT-MCMT. wish create climate data set use index based different climate data can follow instructions “Preparing Custom Climate Data”. using app assess multiple different species climate data set used species index relative results compared across different species different data sets used.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"species-range","dir":"Articles","previous_headings":"5 Scientific considerations for applying the index","what":"Species range","title":"Using the ccviR App","text":"Ideally range polygon complete area occupied species North America. full range used determine range climate conditions species can tolerate answer questions historical thermal niche (C2ai) historical hydrological niche (C2bi). portion range within assessment area (see ) used determine species exposure climate change. Choosing creating appropriate range polygon can challenging many species comprehensive surveys locations species occur conducted. result difficult create range polygon based point locations species found know whether present locations locations surveyed. purposes CCVI polygon represents broad area species known occur sufficient climate data used 1 km 1km grid classified broad categories assess qualitative vulnerability factors. choosing polygon important consider polygon used. polygon includes areas species occur spatial analysis estimate historical niche, occupied areas excluded surveyed historical niche underestimated. , small changes range boundaries unlikely affect index value range polygon need exact. Existing range polygons can found online many species (Table 5.1). Ensure polygon reputable source include historical future occurrences. can find appropriate range polygon can create one occurrence data. species expert, recommend using sRedList tool interactive user interface can guide creating polygon. use tool need create account login, click assessments left-hand menu. “Distribution” page select “Create occurrence records”. need move steps can skip ones relevant download zip file containing species range end. Table 5.1:  Potential data sources species range polygons","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"assessment-area","dir":"Articles","previous_headings":"5 Scientific considerations for applying the index","what":"Assessment area","title":"Using the ccviR App","text":"assessment area area within species vulnerability assessed. example, country, province, state, protected area. polygon intersected species range create polygon used determine exposure climate change. calculate exposure range within assessment area overlain exposure raster proportion range covered class determined used calculate exposure multipliers temperature, moisture combined multiplier. exposure multipliers used modify scores sensitivity questions order reach total score. assessment area also used Section D determine portion assessment area part projected future range. assessment area can also boundary one sub-population wish assess vulnerability sub-population species. way range polygon whole species can still used determine historical niche exposure future range change assessed within sub-population. NatureServe CCVI designed applied wildlife within national park, wildlife refuge, state (Young et al. 2016) can also applied larger areas including species’ entire range North America (Need cite). applied larger areas assessment may mask high vulnerability particular areas exposure maps produced assessment used identify areas. spatial scale assessment area chosen reflect scale results assessment applied. also important consider assumptions created choice scale met address . 1) species’ vulnerability inside assessment area affected vulnerability parts range; 2) species’ vulnerability constant across assessment area; 3) species’ traits across range assessment area. address assumptions assessments can performed separately different sub-populations full species range.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"migratory","dir":"Articles","previous_headings":"5 Scientific considerations for applying the index","what":"Migratory species","title":"Using the ccviR App","text":"CCVI includes Migratory Exposure Index added account exposure species climate change migratory range. uses Climate Change Exposure Index (CCEI) map overlapped species non-breeding range determine exposure index value Low, Moderate High. can used along side CCVI index value assessment area. CCEI created calculating standard Euclidean distance historical MAT CMD projected future MAT CMD. CCEI broken four categories exposure proportion non-breeding range overlapping category used determine migratory exposure index value. categories based thresholds defined NatureServe Guidelines.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"range-change-raster","dir":"Articles","previous_headings":"5 Scientific considerations for applying the index","what":"Range change raster","title":"Using the ccviR App","text":"range change raster used score vulnerability factors Section D represents modeled change species range caused climate change. values raster cells indicate whether cell lost, maintained, gained never included range. raster expected result sort modelling. example, SDM species current climate used predict current range projected future climate scenario difference two rasters used create range change raster. rasters binary predictions species presence , current range subtracted future range, -1 represent habitat lost, 0 maintained, 1 gained. raster data available appropriate format question can answered manually left blank model available. gain modifier allows users decide like treat projected range gains raster. depend model created. important consider whether gains likely realized. E.g. species capable dispersing new habitat factors climate suitable areas? determine appropriate gain modifier assessors need understand assumptions used predict future range whether expected successfully predict range gains. gains predicted model trusted can set gain modifier 0 assumes dispersal. gains predicted model expected realized can set gain modifier 1. See Bateman et al. 2013 discussion topic.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"uncertainty","dir":"Articles","previous_headings":"5 Scientific considerations for applying the index","what":"Uncertainty","title":"Using the ccviR App","text":"mentioned , multiple values can selected vulnerability factor represent uncertainty. assessors select one category uncertainty treated two ways: average score selected categories taken inform index rating. example, assessors believe answer one questions vulnerability section ranges ‘Somewhat Increase’ (score 1) ‘Increase’ (score 2) selects categories score given question (multiplier applied) 1.5. Monte Carlo simulation used understand uncertainty assessors’ ratings change final index rating. two categories selected, analysis assumes categories equally likely occur. Monte Carlo simulation runs index analysis 1000 times choosing selected category roughly equally. output histogram showing number times vulnerability index selected. Higher dispersion across categories indicates lower confidence final ccviR score. example, expert believes 50% chance correct value “Greatly Increase”, 35% chance “Increase” 15% chance “Somewhat increase” selecting three boxes treat equal chance answer use “Increase vulnerability” determine index, since mean value. Choosing address situation depend goals assessment whether -estimating uncertainty index preferable. One option remove option less 10% likelihood remove option significantly less likely rest (e.g. 20% less likely). Whatever strategy used, overall approach described assessment comments way implemented question described question comments.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"gathering-evidence","dir":"Articles","previous_headings":"5 Scientific considerations for applying the index","what":"Gathering evidence","title":"Using the ccviR App","text":"answer questions vulnerability section likely need use combination existing data expert judgement. may judgement, another person / group. Section 5.7.1 provide quick checklist help individuals provide accurate repeatable judgements. Section 5.7.2 identify steps improve accuracy judgements eliciting judgements group. checklists informed extensive expert judgement risk analysis literature (See Appendix B Appendix C.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"individual","dir":"Articles","previous_headings":"5 Scientific considerations for applying the index > 5.7 Gathering evidence","what":"Individual judgements","title":"Using the ccviR App","text":"following checklist help ensure judgements individuals accurate, informative, reliable. Review list vulnerability questions, identify questions applicable species assessed (Tables 2.1 2.2, Young et al. (2016)). Read full text question descriptions response category (described pop-information boxes). Reading information help align estimates intended definitions making responses consistent assessments. Conduct review literature (peer-reviewed non-peer reviewed literature) find information applicable question. Compile information inform estimates Fill answers many questions can. Questions left blank unknown get score zero impact. can eliminate least one possible responses question, enter response. Save estimates go, may lose information walk away computer without saving. Saving also allow update responses later. Detail important information comments section. includes rationales, sources information used assessment, key uncertainties details ambiguities affected interpretation questions responses defined. Embrace counterfactual thinking. overcome overconfidence bias, encouraged embrace counterfactual thinking. Two simple tricks include: 1) imagining optimistic pessimistic scenarios providing best estimate; 2) providing best estimate asking judgement wrong, allowing revise estimate. Review update estimates. assessment reviewed least one expert. Update estimates accordingly. Update “Assessment Notes”. Ensure capture information needed understand interpret assessment. Useful information includes: data sources used. Information judgements derived (e.g., single expert group, protocols structuring discussions estimation group). uncertainty treated. Optional: Create online repository, folder, key data sources methods assessment can thoroughly documented easily accessed later date others.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"group","dir":"Articles","previous_headings":"5 Scientific considerations for applying the index > 5.7 Gathering evidence","what":"Group judgements","title":"Using the ccviR App","text":"expert judgement literature convincingly shows eliciting judgement one individual produces reliable judgements single well credentialed expert. However, interactions group biases need managed maximise performance group (Appendix C). key steps eliciting group judgements (information can found Appendix B): Assemble diverse group knowledgeable individuals. Around 5-8 experts produce accurate judgements two experts better one. Allow experts individually answer questions. Follow steps 1 3 individual judgements (Section 5.7.1). Ask experts communicate one another discussion stage. Ask experts save responses submit facilitator. Collate responses rationales Provide feedback experts judgements (refer Box 1 example). Allow experts discuss estimates question, looking areas may interpreted question differently intended one another, well important information may overlooked. Allow experts update responses based information discussion step. Experts required update estimates, believe good reason. Aggregate individual judgements (Refer Section 2.2.2.1 Box 2). Review aggregated results experts ensure final response level uncertainty represented appropriate. Document process taken derive group judgements. includes: experts involved, process estimation, discussion, feedback aggregation.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"box-1","dir":"Articles","previous_headings":"","what":"Using the ccviR App","title":"Using the ccviR App","text":"Question C1: Dispersal Movements Estimates: categories selected question Rationales: rationales comments provided responses","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"aggregating-group-judgements","dir":"Articles","previous_headings":"5 Scientific considerations for applying the index > 5.7 Gathering evidence > 5.7.2 Group judgements","what":"Aggregating group judgements","title":"Using the ccviR App","text":"combine judgements multiple experts ccviR small transformation must made individual judgements. ccviR, one category selected, Monte Carlo simulations treat categories equally likely (refer Section 5.6 information). Therefore, assumed question assessors equally distributing one point across selected categories. example, three categories selected, one point distributed across three categories (0.33, 0.33, 0.33). one category selected, point entirely allocated category. aggregating judgements, distribution points calculated expert. points per category across experts can summed (refer Box 2). Aggregated judgements combine uncertainties expressed individuals may overestimate uncertainty group. avoid aggregated judgements discussed group experts, keeping mind Monte Carlo treat selections equally likely. final value(s) selected group reflect uncertainty among experts discussion.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"box-2","dir":"Articles","previous_headings":"","what":"Using the ccviR App","title":"Using the ccviR App","text":"1.83/3 = 0.61 0.83/3 = 0.28 0.33/3 = 0.11","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"communicating-assessment-results","dir":"Articles","previous_headings":"","what":"Communicating assessment results","title":"Using the ccviR App","text":"assessment complete, next step store results communicate outcome assessment. contents app can saved csv file stores inputs can used re-load app make changes assessment. human readable csv format ensures comments assessment values can used independent ccviR package facilitates transparent reproducible assessments. csv files can also used compile data multiple assessments analysis synthesis. pdf report summarizing inputs CCVI, results maps spatial outputs can generated within app preserve results readable format. NatureServe CCVI provides descriptions Index values returned CCVI assessment shown Table 6.1. descriptions provide context level concern associated index value developers ccviR package recommend interpreting caution since exact outcome particular combination sensitivity factors exposure may vary across species. best way understand meaning index value particular species review guidelines factors received high scores order determine species vulnerability might lead declines time. multiple species assessed CCVI results can used rank species vulnerability, potentially factors conservation status, prioritize management actions. factors driving vulnerability individual multiple species can explored determine management actions effective assisting species. recommend reading “Interpreting Results” section NatureServe CCVI Guidelines details CCVI interpreted alongside Conservation Status. Table 6.1: Descriptions index values provided NatureServe","code":""},{"path":"https://landscitech.github.io/ccviR/articles/app_vignette2.html","id":"scoring-appendix","dir":"Articles","previous_headings":"","what":"Scoring the CCVI","title":"Using the ccviR App","text":"described Section 1.1, ccviR app designed assess relative vulnerability species climate change within defined assessment area. final outputs qualitative ranking ‘Extremely Vulnerable’ ‘Less Vulnerable’ depending exposure, sensitivity adaptive capacity well documetned modelled responses climate change. obtain rankings ccviR performs following steps (Figure 7.1): Direct exposure calculated. spatial extent assessment area species range overlaid projected changes temperature moisture determine percentage species range within assessment area distributed across six classes exposure. percentage used assign temperature exposure multiplier moisture exposure multiplier according thresholds Tables 7.1 7.2. combined exposure multiplier calculated taking average temperature moisture exposure multipliers. multipliers used adjust vulnerability factors factors multiplied combined exposure multiplier thermal hydrological niche questions multiplied temperature moisture multipliers, respectively (Figure 7.1; Table 2.1). Table 7.1: Temperature exposure multiplier table Table 7.2: Moisture exposure multiplier table Calculate B/C Index (Indirect exposure, sensitivity adaptive capacity). Assessors use best available information assess factors related indirect exposure, sensitivity, adaptive capacity (Table 2.1). factors scored qualitative scale ‘Neutral’ (0 points), ‘Greatly Increases vulnerability’ (3 points). least three questions must answered Section B, 10 Section C. Questions left blank scored neutral (0 points). means maximum score can achieved lower fewer questions answered. Answering fewer questions can also reduce confidence score. multiple categories selected, average categories taken. question, points vulnerability multiplied appropriate exposure modifier summed questions produce B/C score. B/C score converted index value follows: EV =>10, HV = 7-10, MV = 4-7, LV = 0-4 (Figure 7.1). Calculate D-Index (documented modeled response). Section D factors scored (Table 2.2), D score determined summing score section D questions. D score converted index value follows: EV => 6, HV = 4-6, MV = 2-4, LV = 0-2, IE = -2-0 (Figure 7.1). Determine Climate Change Vulnerability Index value: assigned index value based confusion matrix combining B/C D Indices (Figure 7.1). Calculate Migratory Exposure applicable: migratory species non-breeding range overlaid CCEI raster determine percentage range distributed across four predefined classes exposure. proportion class multiplied weighting factor (Table 7.3) summed get migratory exposure score converted index value according thresholds Table 7.4. Table 7.3: Migratory exposure weighting factors. Table 7.4: Migratory exposure thresholds. Figure 7.1: Steps calculate CCVI. 1) Temperature moisture spatial layers used assign exposure multipliers; 2) Indirect exposure, sensitivity, adaptive capacity vulnerability factors scored combined exposure multipliers create subscores. subscores summed questions calculate B/C Index score; 3) available, modeled response calculated create D-Index score; 4) confusion matrix used determine final CCVI value.","code":""},{"path":[]},{"path":"https://landscitech.github.io/ccviR/articles/data_prep_vignette.html","id":"custom-climate-data","dir":"Articles","previous_headings":"","what":"Custom Climate Data","title":"Preparing Custom Climate Data","text":"wish use custom set climate data calculate NatureServe Climate Change Vulnerability Index need prepare climate data form used calculate index. raw climate data set include rasters : Mean annual temperature (MAT) historical future time periods Climate moisture deficit (CMD) historical future time periods Mean annual precipitation (MAP) historical time period Minimum coldest warmest month temperatures (MCMT MWMT) historical time period Optionally, climate change exposure index (CCEI) raster Climate data multiple scenarios can used calculate CCVI index scenario simultaneously, case MAT CMD future scenario needed raw climate data set. app use raw climate data create classified versions climate data used calculate index save selected folder.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/data_prep_vignette.html","id":"climate-data-sources","dir":"Articles","previous_headings":"Custom Climate Data","what":"Climate data sources","title":"Preparing Custom Climate Data","text":"Step 1 acquire necessary climate data. many options acquire climate data depending desired climate change emissions scenario, General Circulation Model, downscaling method prefer. One good source North America AdaptWest. AdpatWest page select bioclimatic variables normal period desired future climate scenario(s). recommend using 1961-1990 normal period ensemble data SSP2-4.5 SSP5-8.5 2050s future. Save downloaded data folder can easily find. Climate Change Exposure Index (CCEI) South America available NatureServe use one included ccviR covers Americas. wish create different CCEI raster follow adapt code used ccviR package.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/data_prep_vignette.html","id":"launch-the-app","dir":"Articles","previous_headings":"Custom Climate Data","what":"Launch the app","title":"Preparing Custom Climate Data","text":"data preparation app launched calling run_data_prep() function, launch app user’s default internet browser. file selection windows start current working directory. run app data stored different folder can call run_data_prep() folder path first argument. example, data stored subdirectory named “data” RStudio project calling function call run_data_prep(\"data\") avoid open data folder every time select file. Alternatively, complete path data folder can supplied e.g. “C:/Users/username/Documents/path//folder” (Note paths R must supplied using forward slashes).","code":""},{"path":"https://landscitech.github.io/ccviR/articles/data_prep_vignette.html","id":"describe-the-data","dir":"Articles","previous_headings":"Custom Climate Data","what":"Describe the data","title":"Preparing Custom Climate Data","text":"Step 2 describe data. information stored csv output folder processed climate data. used identify data set list scenarios included.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/data_prep_vignette.html","id":"select-files","dir":"Articles","previous_headings":"Custom Climate Data","what":"Select files","title":"Preparing Custom Climate Data","text":"Step 3 upload data. climate data variable click “Choose file” button, navigate required file click “Select”.  climate data extent polygon used clip polygons extent climate data. climate data covering North America polygon boundaries North America used. polygon supplied one can created process can slow. Finally, choose folder save processed data . Make sure folder convenient place since need supply every time use CCVI app calculate index. folder empty contain climate files wish overwrite. create new folder, select parent folder click “Create new folder” top left corner. type new folder name click plus sign. new folder appear file explorer, click click “Select”.  files selected can click “Process” prepare data. continue message says “Processing Complete”.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/data_prep_vignette.html","id":"multiple-scenarios","dir":"Articles","previous_headings":"Custom Climate Data","what":"Multiple scenarios","title":"Preparing Custom Climate Data","text":"wish calculate CCVI multiple climate change scenarios simultaneously can create climate change data set multiple scenarios. Change number scenarios “many future scenarios?” section. first scenario processed determine thresholds used classify temperature moisture exposure based median 1/2 interquartile range. Therefore, recommend processing climate scenario lowest impact first index values higher extreme scenarios. Future MAT CMD must provided additional scenario. rest: MCMT, MWMT MAP needed additional scenarios used inform species’ sensitivity based current range historical climate change scenarios.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/data_prep_vignette.html","id":"more-information","dir":"Articles","previous_headings":"Custom Climate Data","what":"More information","title":"Preparing Custom Climate Data","text":"See vignette(\"package_vignette\", package = \"ccviR\") detailed walk categories exposure rasters determined.","code":""},{"path":"https://landscitech.github.io/ccviR/articles/package_vignette.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Using the ccviR package","text":"ccviR package implements NatureServe Climate Change Vulnerability Index (CCVI) R package Shiny App. package allows geospatial aspects calculating CCVI done R, removing need separate GIS calculations. also enables easier sensitivity analysis Index. NatureServe CCVI trait based climate change vulnerability assessment framework. includes three commonly used components vulnerability: exposure, sensitivity adaptive capacity. addition, optionally incorporates results documented modeled responses climate change. Exposure assessed determining proportion species range falls 6 classes temperature moisture change used assign exposure multiplier. Sensitivity adaptive capacity assessed scoring 23 vulnerability factors, scale 0 (‘neutral’) 3 (‘greatly increases vulnerability’). scores multiplied exposure multiplier summed give total score section. Factors answered can left blank contribute 0 total score. fewer 13 factors scored index value calculated. addition, 4 vulnerability factors documented modeled responses climate change can optionally scored similar scale. scores simply summed get total score section. index value determined two sections (exposure x sensitivity adaptive capacity, documented modeled responses) applying set thresholds scores. two index values combined using table gives weight sensitivity adaptive capacity section. possible index values Less Vulnerable, Moderately Vulnerable, Highly Vulnerable, Extremely Vulnerable Insufficient Evidence (enough factors CCVI scored). detailed information index works factor scored see NatureServe CCVI Guidelines references .","code":""},{"path":"https://landscitech.github.io/ccviR/articles/package_vignette.html","id":"getting-started","dir":"Articles","previous_headings":"","what":"Getting started","title":"Using the ccviR package","text":"begin using ccviR package within R, need load required packages. example data set provided within package use examples . prepared data saved output folder can used whenever index calculated, step needs completed . following code block loads required packages example data set:","code":"#load packages library(ccviR) library(sf) #> Linking to GEOS 3.12.1, GDAL 3.8.4, PROJ 9.4.0; sf_use_s2() is TRUE library(dplyr) #>  #> Attaching package: 'dplyr' #> The following objects are masked from 'package:stats': #>  #>     filter, lag #> The following objects are masked from 'package:base': #>  #>     intersect, setdiff, setequal, union  #load example data set data_pth <- system.file(\"extdata\", package = \"ccviR\")"},{"path":"https://landscitech.github.io/ccviR/articles/package_vignette.html","id":"preparing-the-climate-data","dir":"Articles","previous_headings":"","what":"Preparing the climate data","title":"Using the ccviR package","text":"step necessary want use custom climate data. can skip section using pre-prepared climate data available download . Step 1: Acquire climate data. recommend climate data North America AdaptWest data set includes least mean annual temperature climate moisture deficit (similar moisture metric) can used. AdaptWest select bioclimatic variables normal period desired future climate scenario. recommend using 1961-1990 normal period ensemble data SSP2-4.5 SSP5-8.5 2050s future. Accepted raster file types asc, tif, tiff, nc, grd, img, bil, gpkg. Save downloaded data folder can easily find. Step 2: Prepare climate data use ccviR. Climate data can processed providing file paths file folder contains files standard names. output folder, make sure choose location easy find use prepared climate data calculate index. preparing data multiple scenarios, need process scenario separately save thresholds used classify first scenario supply processing subsequent scenarios (demonstrated example ). Standard names input folder: MAT: mean annual temperature historical normal period (required) MAT_2050: mean annual temperature future climate change. can number eg 2050, 2100 (required) CMD: climate moisture deficit historical normal period (required) CMD_2050: climate moisture deficit future climate change can number eg 2050, 2100 (required) CCEI: Climate Change Exposure Index NatureServe website MAP: mean annual precipitation historical normal period MWMT: mean warmest month temperature historical normal period MCMT: mean coldest month temperature historical normal period clim_poly: optional shapefile polygon extent climate data. created climate data missing faster provide . thresholds classifying data based provided NatureServe Guidelines except thresholds used exposure data. Since using different climate data thresholds classes need calculated. use median 1/2 interquartile range since appropriate skewed data mean standard deviation used NatureServe continental US. following code prepares climate data example data set using prep_clim_data: Using mean annual temperature (MAT) example, explore data prepared. prep_clim_data determines change MAT classifies six classes (1-6) 6 largest increase temperature. thresholds, breaks, classifying data based provided NatureServe Guidelines (except thresholds used exposure data). Since custom climate data used, thresholds classes need calculated. calculate thresholds use median 1/2 interquartile range. values appropriate skewed data mean standard deviation used NatureServe continental US. change MAT classified MAT (output prep_clim_data) can plotted demonstrate classification change MAT.   Note plot shows five classes none data falls within sixth class. preparing custom climate data, recommended csv readme file created stored record data came relevant metadata. file required data used ccviR Shiny app.","code":"# climate data file names list.files(file.path(data_pth, \"clim_files/raw\")) #>  [1] \"ccei_ssp245_fl.tif\" \"ccei_ssp585_fl.tif\" \"NB_norm_CMD.tif\"    #>  [4] \"NB_norm_MAP.tif\"    \"NB_norm_MAT.tif\"    \"NB_norm_MCMT.tif\"   #>  [7] \"NB_norm_MWMT.tif\"   \"NB_RCP.4.5_CMD.tif\" \"NB_RCP.4.5_MAT.tif\" #> [10] \"NB_RCP.8.5_CMD.tif\" \"NB_RCP.8.5_MAT.tif\"  # prepare the data and save it in out_folder # RCP4.5 prep - saves breaks as brks for use in 8.5 prep brks <- prep_clim_data(   mat_norm = file.path(data_pth, \"clim_files/raw\", \"NB_norm_MAT.tif\"),   mat_fut = file.path(data_pth, \"clim_files/raw\", \"NB_RCP.4.5_MAT.tif\"),   cmd_norm = file.path(data_pth, \"clim_files/raw\", \"NB_norm_CMD.tif\"),   cmd_fut = file.path(data_pth, \"clim_files/raw\", \"NB_RCP.4.5_CMD.tif\"),   map = file.path(data_pth, \"clim_files/raw\", \"NB_norm_MAP.tif\"),   mwmt = file.path(data_pth, \"clim_files/raw\", \"NB_norm_MWMT.tif\"),   mcmt = file.path(data_pth, \"clim_files/raw\", \"NB_norm_MCMT.tif\"),   clim_poly = file.path(data_pth, \"clim_files/processed\", \"clim_poly.shp\"),   out_folder = file.path(data_pth, \"clim_files/processed\"),   overwrite = TRUE,   scenario_name = \"RCP 4.5\", ) #> Processing MAT #> Processing CMD #> Processing MAP #> Processing MWMT and MCMT #> Finished processing  # RCP8.5 - using breaks from 4.5 # map, mwmt and mcmt only need to be processed once prep_clim_data(   mat_norm = file.path(data_pth, \"clim_files/raw\", \"NB_norm_MAT.tif\"),   mat_fut = file.path(data_pth, \"clim_files/raw\", \"NB_RCP.8.5_MAT.tif\"),   cmd_norm = file.path(data_pth, \"clim_files/raw\", \"NB_norm_CMD.tif\"),   cmd_fut = file.path(data_pth, \"clim_files/raw\", \"NB_RCP.8.5_CMD.tif\"),   out_folder = file.path(data_pth, \"clim_files/processed\"),   clim_poly = file.path(system.file(\"extdata\", package = \"ccviR\"),                         \"assess_poly.shp\"),   overwrite = TRUE,   scenario_name = \"RCP 8.5\",   brks_mat = brks$brks_mat,    brks_cmd = brks$brks_cmd,   brks_ccei = brks$brks_ccei ) #> Processing MAT #> Processing CMD #> Finished processing # select color ramp for plots pal = c(\"#FFF9CA\", \"#FEE697\", \"#FEC24D\", \"#F88B22\", \"#D85A09\", \"#A33803\")  # create rasters for the historical normal MAT and the future MAT mat_norm <- terra::rast(file.path(data_pth, \"clim_files/raw/NB_norm_MAT.tif\")) mat_fut <- terra::rast(file.path(data_pth, \"clim_files/raw/NB_RCP.4.5_MAT.tif\"))  # plot the change in MAT terra::plot(mat_norm - mat_fut,       col = colorRampPalette(rev(pal))(50)) # breaks used to classify data (determined when preparing RCP4.5 data above) brks$brks_mat #>        [,1]   [,2] [,3] #> [1,] -4.105 -3.130    6 #> [2,] -3.130 -3.050    5 #> [3,] -3.050 -2.970    4 #> [4,] -2.970 -2.890    3 #> [5,] -2.890 -2.810    2 #> [6,] -2.810 -1.556    1  # create raster for the classified MAT mat_classified <- terra::rast(file.path(data_pth, \"clim_files/processed/MAT_reclassRCP_4.5.tif\"))  # plot the classified MAT terra::plot(mat_classified, col = pal) # make readme csv write.csv(   data.frame(Scenario_Name = c(\"RCP 4.5\", \"RCP 8.5\"),              GCM_or_Ensemble_name = \"AdaptWest 15 CMIP5 AOGCM Ensemble\",              Historical_normal_period = \"1961-1990\",              Future_period = \"2050s\",              Emissions_scenario = c(\"RCP 4.5\", \"RCP8.5\"),              Link_to_source = \"https://adaptwest.databasin.org/pages/adaptwest-climatena-cmip5/\",              brks_mat = brks$brks_mat %>% brks_to_txt(),              brks_cmd = brks$brks_cmd %>% brks_to_txt(),              brks_ccei = brks$brks_ccei %>% brks_to_txt()),   file.path(data_pth, \"clim_files/processed/\", \"climate_data_readme.csv\"),   row.names = FALSE )"},{"path":"https://landscitech.github.io/ccviR/articles/package_vignette.html","id":"load-species-specific-spatial-data","dir":"Articles","previous_headings":"","what":"Load species specific spatial data","title":"Using the ccviR package","text":"following spatial data sets can input species: Species North American global range polygon (required) Assessment area polygon (required) Non-breeding range polygon Projected range change raster matrix reclassify 0 = unsuitable, 1 = lost, 2 = maintained 3 = gained Physiological thermal niche (PTN) polygon. PTN polygon include cool cold environments species occupies may lost reduced assessment area result climate change. See details spatial inputs. example data provided package.","code":"rng_poly <- read_sf(file.path(data_pth, \"rng_poly.shp\"), agr = \"constant\") assess_poly <- read_sf(file.path(data_pth, \"assess_poly.shp\"), agr = \"constant\") rng_chg <- terra::rast(c(file.path(data_pth, \"rng_chg_45.tif\"),                   file.path(data_pth, \"rng_chg_85.tif\"))) PTN_poly <- read_sf(file.path(data_pth, \"PTN_poly.shp\"), agr = \"constant\")  # the range change raster has values from -1, 0 and 1, this matrix is used to # convert them to the 4 classes described above. hs_rcl_mat <- matrix(c(-1:1, c(1, 2, 3)), ncol = 2)"},{"path":"https://landscitech.github.io/ccviR/articles/package_vignette.html","id":"load-climate-data","dir":"Articles","previous_headings":"","what":"Load climate data","title":"Using the ccviR package","text":"Next load climate data prepared first step using get_clim_vars() function loads data stores list required names. scenario names must match suffix file name done automatically prep_clim_data. result list element single layer SpatRaster static variables multi-layer SpatRaster variables change, one layer per scenario. clim_poly also included sf object.","code":"clim_dat <- get_clim_vars(file.path(data_pth, \"clim_files/processed\"),                            scenario_names = c(\"RCP 4.5\", \"RCP 8.5\"))  str(clim_dat, max.level = 1, give.attr = FALSE) #> List of 6 #>  $ mat      :S4 class 'SpatRaster' [package \"terra\"] #>  $ cmd      :S4 class 'SpatRaster' [package \"terra\"] #>  $ map      :S4 class 'SpatRaster' [package \"terra\"] #>  $ ccei     :S4 class 'SpatRaster' [package \"terra\"] #>  $ htn      :S4 class 'SpatRaster' [package \"terra\"] #>  $ clim_poly:Classes 'sf' and 'data.frame':  1 obs. of  11 variables:"},{"path":"https://landscitech.github.io/ccviR/articles/package_vignette.html","id":"run-spatial-data-analysis","dir":"Articles","previous_headings":"","what":"Run spatial data analysis","title":"Using the ccviR package","text":"species specific climate data loaded, can run spatial data analysis: resulting object list containing table results spatial analysis (spat_res$spat_table) two range polygons provided mapping (spat_res$range_poly_assess spat_res$range_poly_clim). case, spat_res$spat_table shows range spread 2nd, 3rd 4th highest exposure classes change MAT: spat_res$range_poly_assess range polygon clipped assessment area spat_res$range_poly_clim range polygon clipped extent climate data. spat_res$range_poly_assess used factors except historical thermal hydrological niche use spat_res$range_poly_clim. historical thermal hydrological niche used proxies range temperature moisture conditions species can tolerate , therefore, reflect much range possible. range polygon provided completely within assessment area spat_res$range_poly_assess provided range polygon. can create map visualize exposure changes MAT RCP 4.5 scenario overlaying range clipped assessment area top change MAT raster:","code":"spat_res <- analyze_spatial(range_poly = rng_poly, scale_poly = assess_poly,                             clim_vars_lst = clim_dat, ptn_poly = PTN_poly,                             hs_rast = rng_chg, hs_rcl = hs_rcl_mat,                              scenario_names = c(\"RCP 4.5\", \"RCP 8.5\")) #> Checking files #> Preparing polygon 'Climate Data Extext' #> Preparing polygon 'Assessment Area' #> Preparing polygon 'Range' #> Preparing polygon 'PTN' #> Clipping 'Range' to 'Climate Data Extent' #> Clipping 'Range' to 'Assessment Area' #> Assessing local climate exposure #> Assessing thermal & hydrological niches #> Assessing modelled range response to climate change #> Warning: More than 10% of the range change raster does not match the expected values. #> Is the classification table correct? #> Finalizing outputs spat_res$spat_table[, 1:7] #>   scenario_name MAT_1 MAT_2 MAT_3  MAT_4 MAT_5 MAT_6 #> 1       RCP 4.5     0     0 8.067 64.113 27.82     0 #> 2       RCP 8.5     0     0 0.000  0.000  0.00   100 terra::plot(clim_dat$mat$RCP_4.5, col = pal)  plot(st_geometry(spat_res$range_poly_assess), add = TRUE)"},{"path":"https://landscitech.github.io/ccviR/articles/package_vignette.html","id":"answer-the-vulnerability-questions","dir":"Articles","previous_headings":"","what":"Answer the vulnerability questions","title":"Using the ccviR package","text":"make_vuln_df() creates blank table can filled scores vulnerability factor used calculate index. vulnerability factors score explained NatureServe CCVI Guidelines. table includes abbreviated version question ($Question), maximum value factor ($Max_Value), whether factor calculated spatial data analysis ($is_spatial). factor calculated spatial analysis, indicated $is_spatial != NA, scored -1 override results spatial analysis. $Value1 filled number corresponding following impacts vulnerability -1: Unknown, 0: Neutral, 1: Somewhat Increase, 2: Increase, 3: Greatly Increase. Note maximum Value1 value depends question, can 2 3 (reflected $Max_Value). wish input two answers reflect uncertainty filling $Value2, $Value3, /$Value4. table can filled interactively, using code (recommended reproduceability), saving table csv, editing , loading back R. three options outlined codeblocks : Interactive editing: Editing using code: Editing using csv:","code":"# create a blank vulnerability question table vuln <- make_vuln_df(\"sp_name\") # you can interactively edit the table vuln <- edit(vuln) # or use code (recommended for reproducibility) vuln$Value1[3:19] <- c(0, 0, 1, 0, -1, -1, -1, -1, 0, 0, 1, 0, 0, 1, 0, 0, 0) vuln$Value1[26:29] <- c(0, -1, -1, 0)  # include a second value to reflect uncertainty and trigger a monte carlo to # determine confidence vuln$Value2[3:5] <- c(2, 0, 0) # save the table as a csv  write.csv(vuln, \"path/to/write\", row.names = FALSE)  # edit the csv and save it  # load it back in to R vuln <- read.csv(\"path/to/write\", stringsAsFactors = FALSE)"},{"path":"https://landscitech.github.io/ccviR/articles/package_vignette.html","id":"calculate-the-index","dir":"Articles","previous_headings":"","what":"Calculate the index","title":"Using the ccviR package","text":"Finally, use results spatial analysis answers vulnerability questions calculate index. example number rounds Monte Carlo reduced generally kept default (n_rnds = 1000). result dataframe 12 columns (see ?calc_vulnerability explanation ). $index gives index EV: Extremely Vulnerable, HV: Highly Vulnerable, MV: Moderately Vulnerable, LV: Less Vulnerable, IE: Insufficient Evidence. see example species Highly Vulnerable climate change: can investigate index value reached using results calc_vulnerability two graphs included package. first graph plot_score_index(). shows index values (calculated separately modeled response climate change sensitivity adaptive capacity modified exposure sections) combined overall index value. also shows thresholds converting numerical scores factor categorical index value. example, can see index value driven primarily sensitivity section since score section produced index value Extremely Vulnerable D score higher included (-1 graph).  second graph produced plot_q_score(). plotly graph scores factor. bars show total score factor. popup shows name question exposure multiplier used modify score vulnerability factor. Since output analysis data frame can saved used compare results multiple species test sensitivity index different inputs.","code":"index_res <- calc_vulnerability(spat_res$spat_table, vuln, tax_grp = \"Bird\",                                 n_rnds = 20) #> calculating vulnerability index RCP 4.5 #> performing monte carlo #> finished vulnerability #> calculating vulnerability index RCP 8.5 #> performing monte carlo #> finished vulnerability glimpse(index_res) #> Rows: 2 #> Columns: 12 #> $ scenario_name <chr> \"RCP 4.5\", \"RCP 8.5\" #> $ index         <chr> \"HV\", \"EV\" #> $ conf_index    <chr> \"Moderate\", \"Very High\" #> $ mc_results    <list> [<tbl_df[20 x 5]>], [<tbl_df[20 x 5]>] #> $ mig_exp       <chr> \"N/A\", \"N/A\" #> $ d_score       <dbl> 4, 4 #> $ b_c_score     <dbl> 9.45, 12.05 #> $ vuln_df       <list> [<tbl_df[29 x 14]>], [<tbl_df[29 x 14]>] #> $ n_b_factors   <int> 4, 4 #> $ n_c_factors   <int> 11, 11 #> $ n_d_factors   <int> 4, 4 #> $ slr_vuln      <lgl> FALSE, FALSE  index_res$index #> [1] \"HV\" \"EV\" plot_score_index(index_res) q_score <- bind_rows(index_res$vuln_df %>% `names<-`(index_res$scenario_name),              .id = \"scenario_name\") %>%   plot_q_score(tax_grp = \"Bird\")  q_score"},{"path":"https://landscitech.github.io/ccviR/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Sarah Endicott. Author, maintainer. Ilona Naujokaitis-Lewis. Author. Steffi LaZerte. Contributor. Majesty King Right Canada, represented Minister Environment Climate Change. Copyright holder.","code":""},{"path":"https://landscitech.github.io/ccviR/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Endicott S, Naujokaitis-Lewis (2023). ccviR: Calculate NatureServe Climate Change Vulnerability Index R. Environment Climate Change Canada, Science Technology Branch. https://landscitech.github.io/ccviR/.","code":"@Manual{,   title = {ccviR: Calculate the NatureServe Climate Change Vulnerability Index in R},   author = {Sarah Endicott and Ilona Naujokaitis-Lewis},   organization = {Environment and Climate Change Canada, Science and Technology Branch},   year = {2023},   url = {https://landscitech.github.io/ccviR/}, }"},{"path":"https://landscitech.github.io/ccviR/index.html","id":"ccvir-","dir":"","previous_headings":"","what":"Calculate the NatureServe Climate Change Vulnerability Index in R","title":"Calculate the NatureServe Climate Change Vulnerability Index in R","text":"ccviR package implements NatureServe Climate Change Vulnerability Index (CCVI) version 3.02 R package Shiny App. package allows geospatial aspects calculating CCVI done R, removing need separate GIS calculations. app provides interactive application designed offer user-friendly simple interface calculating NatureServe CCVI. NatureServe CCVI rapid assessment tool designed allow relative grouping unrelated taxa vulnerability climate change highlight factors contribute climate change vulnerability individual species groups taxa. information can used inform conservation decision making help identify actions increase species resilience climate change. See Young et. al (2012), Young et. al. (2015) NatureServe CCVI Guidelines detailed descriptions index created.","code":""},{"path":"https://landscitech.github.io/ccviR/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Calculate the NatureServe Climate Change Vulnerability Index in R","text":"can install development version ccviR GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"LandSciTech/ccviR\")"},{"path":"https://landscitech.github.io/ccviR/index.html","id":"launching-the-app","dir":"","previous_headings":"","what":"Launching the app","title":"Calculate the NatureServe Climate Change Vulnerability Index in R","text":"code open app default browser example data set available. following open app current working directory default data location.","code":"library(ccviR) run_ccvi_app(\"demo\") run_ccvi_app()"},{"path":"https://landscitech.github.io/ccviR/index.html","id":"comparison-to-the-natureserve-ccvi-tool","dir":"","previous_headings":"","what":"Comparison to the NatureServe CCVI tool","title":"Calculate the NatureServe Climate Change Vulnerability Index in R","text":"ccviR uses vulnerability factors scoring algorithm original NatureServe Excel spreadsheet. index values, scores Monte Carlo uncertainty analysis produced .","code":""},{"path":"https://landscitech.github.io/ccviR/index.html","id":"new-features","dir":"","previous_headings":"Comparison to the NatureServe CCVI tool","what":"New Features","title":"Calculate the NatureServe Climate Change Vulnerability Index in R","text":"Spatial analyses included package minimal GIS skills needed Uses climate data whole species range rather range assessment area score thermal hydrological niche factors Simultaneously calculates index multiple scenarios , emissions scenarios, time horizons GCMs function Shiny app classify new climate data sets exposure categories Plots explain drivers index value Allows full assessment carried reproducible environment Simplifies synthetic analyses across many species, groups regions Shiny app provides Graphical User Interface calculate NatureServe CCVI Shiny app allows users calculate index without knowing R Makes NatureServe CCVI accessible wider audience","code":""},{"path":"https://landscitech.github.io/ccviR/index.html","id":"vignettestutorials-available","dir":"","previous_headings":"","what":"Vignettes/tutorials available","title":"Calculate the NatureServe Climate Change Vulnerability Index in R","text":"See vignette(\"app_vignette\", package = \"ccviR\") introduction use app demo data set, vignette(\"app_details_vignette\", package = \"ccviR\") detailed look use app practice, vignette(\"data_prep_vignette\", package = \"ccviR\") use app prepare custom climate data sets, vignette(\"package_vignette\", package = \"ccviR\") tutorial use package calculate index directly R.","code":""},{"path":"https://landscitech.github.io/ccviR/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Calculate the NatureServe Climate Change Vulnerability Index in R","text":"Endicott, S., Naujokaitis-Lewis, ., 2024. ccviR: R package Shiny app implement NatureServe Climate Change Vulnerability Index. Journal Open Source Software 9, 7150. https://doi.org/10.21105/joss.07150","code":""},{"path":"https://landscitech.github.io/ccviR/reference/analyze_spatial.html","id":null,"dir":"Reference","previous_headings":"","what":"Run the spatial analysis — analyze_spatial","title":"Run the spatial analysis — analyze_spatial","text":"Run required spatial analysis create spat_df input calc_vulnerability clip range polygon appropriate scales.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/analyze_spatial.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run the spatial analysis — analyze_spatial","text":"","code":"analyze_spatial(   range_poly,   scale_poly,   clim_vars_lst,   non_breed_poly = NULL,   ptn_poly = NULL,   hs_rast = NULL,   hs_rcl = NULL,   protected_poly = NULL,   gain_mod = 1,   scenario_names = \"Scenario 1\",   quiet = FALSE )"},{"path":"https://landscitech.github.io/ccviR/reference/analyze_spatial.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run the spatial analysis — analyze_spatial","text":"range_poly sf polygon object giving species range. scale_poly sf polygon object giving area assessment clim_vars_lst list climate data, result get_clim_vars non_breed_poly Optional. sf polygon object giving species range non-breeding season. ptn_poly Optional. sf polygon object giving locations considered part physiological thermal niche (See NatureServe Guidelines definition). hs_rast Optional. SpatRaster object results model change species' range caused climate change. supply different results scenario use raster multiple layers ensure order layers matches order scenario_names. hs_rcl matrix used classify hs_rast 0: suitable, 1: lost, 2: maintained, 3: gained. See rng_chg_mat() helper function. See classify details matrix format. protected_poly Optional. sf polygon object protected areas. gain_mod number 0 1 can used -weight gains modeled range change climate change scenario_names character vector names identify multiple future climate scenarios. quiet Logical. Whether suppress progress messages.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/analyze_spatial.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run the spatial analysis — analyze_spatial","text":"list elements: spat_table results spatial analysis, range_poly_assess range polygon clipped assessment area, range_poly_clim range polygon clipped extent climate data. spat_table contains following columns: scenario_name Name identifying scenario MAT_# percentage species' range exposed class change mean annual temperature historical normal predicted climate. Class 1 highest exposure Class 6 lowest CMD_# percentage species' range exposed class change climate moisture deficit historical normal predicted climate. Class 1 highest exposure Class 6 lowest CCEI_# percentage species' non-breeding range falls climate change exposure index class. Class 4 indicates high exposure Class 1 indicates low exposure perc_non_breed_not_over_ccei precentage non-breeding range overlap CCEI raster data HTN_# percentage species' range exposed class variation historical coldest warmest monts. Class 1 smallest variation Class 4 largest PTN percentage species' range falls cool cold environments may lost reduced assessment area result climate change MAP_max/min maximum minimum historical mean annual precipitation species' range range_change projected decrease range size percentage current range size. Negative numbers indicate increase range size range_overlap percentage current range projected remain future range. range_size area species' range m2","code":""},{"path":"https://landscitech.github.io/ccviR/reference/analyze_spatial.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Run the spatial analysis — analyze_spatial","text":"range polygon clipped area overlapping scale_poly also area overlapping extent climate data polygon. range within assessment area used calculate results except historical thermal hydrological niches range within extent climate data used. projections used Mean Annual Temperature (clim_vars_lst), CCEI (clim_vars_lst, used), predicted changes breeding range (hs_rasts; used). Therefore spatial data files ideally projected projection appropriate preserving area calculations (Equal Area projections, example).","code":""},{"path":"https://landscitech.github.io/ccviR/reference/analyze_spatial.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run the spatial analysis — analyze_spatial","text":"","code":"# Setup library(sf) #> Linking to GEOS 3.12.1, GDAL 3.8.4, PROJ 9.4.0; sf_use_s2() is TRUE base_pth <- system.file(\"extdata\", package = \"ccviR\") scn_nms <- c(\"RCP 4.5\", \"RCP 8.5\") # scenario names  clim_vars <- get_clim_vars(file.path(base_pth, \"clim_files/processed\"),                            scenario_names = scn_nms)  spat_res <- analyze_spatial(   range_poly = sf::read_sf(file.path(base_pth, \"rng_poly.shp\"), agr = \"constant\"),   scale_poly = sf::read_sf(file.path(base_pth, \"assess_poly.shp\"), agr = \"constant\"),   clim_vars_lst = clim_vars,   hs_rast = terra::rast(c(file.path(base_pth, \"rng_chg_45.tif\"),                           file.path(base_pth, \"rng_chg_85.tif\"))),   hs_rcl = rng_chg_mat(-1, 0, 1),   scenario_names = scn_nms ) #> Checking files #> Preparing polygon 'Climate Data Extext' #> Preparing polygon 'Assessment Area' #> Preparing polygon 'Range' #> Clipping 'Range' to 'Climate Data Extent' #> Clipping 'Range' to 'Assessment Area' #> Assessing local climate exposure #> Assessing thermal & hydrological niches #> Assessing modelled range response to climate change #> Finalizing outputs  # With only one range change scenario (suboptimal)  spat_res <- analyze_spatial(   range_poly = sf::read_sf(file.path(base_pth, \"rng_poly.shp\"), agr = \"constant\"),   scale_poly = sf::read_sf(file.path(base_pth, \"assess_poly.shp\"), agr = \"constant\"),   clim_vars_lst = clim_vars,   hs_rast = terra::rast(file.path(base_pth, \"rng_chg_45.tif\")),   hs_rcl = rng_chg_mat(-1, 0, 1),   scenario_names = scn_nms ) #> Checking files #> Preparing polygon 'Climate Data Extext' #> Preparing polygon 'Assessment Area' #> Preparing polygon 'Range' #> Clipping 'Range' to 'Climate Data Extent' #> Clipping 'Range' to 'Assessment Area' #> Assessing local climate exposure #> Assessing thermal & hydrological niches #> Assessing modelled range response to climate change #> Finalizing outputs  # With protected areas spat_res <- analyze_spatial(   range_poly = sf::read_sf(file.path(base_pth, \"rng_poly.shp\"), agr = \"constant\"),   scale_poly = sf::read_sf(file.path(base_pth, \"assess_poly.shp\"), agr = \"constant\"),   protected_poly = sf::read_sf(file.path(base_pth, \"protected_areas.shp\")),   clim_vars_lst = clim_vars,   hs_rast = terra::rast(c(file.path(base_pth, \"rng_chg_45.tif\"),                           file.path(base_pth, \"rng_chg_85.tif\"))),   hs_rcl = rng_chg_mat(-1, 0, 1),   scenario_names = scn_nms ) #> Checking files #> Preparing polygon 'Climate Data Extext' #> Preparing polygon 'Assessment Area' #> Preparing polygon 'Range' #> Clipping 'Range' to 'Climate Data Extent' #> Clipping 'Range' to 'Assessment Area' #> Assessing local climate exposure #> Assessing thermal & hydrological niches #> Assessing modelled range response to climate change #> Preparing polygon 'Protected Areas' #> Clipping 'Protected Areas' to 'Assessment Area' #> Transforming polygon 'Protected Areas' #> Finalizing outputs  # With CCEI (by supplying `non_breed.shp` spatial example) spat_res <- analyze_spatial(   range_poly = read_sf(file.path(base_pth, \"rng_poly.shp\"), agr = \"constant\"),   scale_poly = read_sf(file.path(base_pth, \"assess_poly.shp\"), agr = \"constant\"),   protected_poly = read_sf(file.path(base_pth, \"protected_areas.shp\")),   non_breed_poly = read_sf(file.path(base_pth, \"non_breed.shp\")),   clim_vars_lst = clim_vars,   hs_rast = terra::rast(c(file.path(base_pth, \"rng_chg_45.tif\"),                           file.path(base_pth, \"rng_chg_85.tif\"))),   hs_rcl = rng_chg_mat(-1, 0, 1),   scenario_names = scn_nms ) #> Checking files #> Preparing polygon 'Climate Data Extext' #> Preparing polygon 'Assessment Area' #> Preparing polygon 'Range' #> Preparing polygon 'non-breeding range' #> Transforming polygon 'non-breeding range' #> Clipping 'Range' to 'Climate Data Extent' #> Clipping 'Range' to 'Assessment Area' #> Assessing local climate exposure #> Assessing thermal & hydrological niches #> Assessing modelled range response to climate change #> Preparing polygon 'Protected Areas' #> Clipping 'Protected Areas' to 'Assessment Area' #> Transforming polygon 'Protected Areas' #> Finalizing outputs"},{"path":"https://landscitech.github.io/ccviR/reference/brks_to_txt.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert breaks matrix to text that can be stored in readme — brks_to_txt","title":"Convert breaks matrix to text that can be stored in readme — brks_to_txt","text":"Convert breaks matrix text can stored readme","code":""},{"path":"https://landscitech.github.io/ccviR/reference/brks_to_txt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert breaks matrix to text that can be stored in readme — brks_to_txt","text":"","code":"brks_to_txt(brks)"},{"path":"https://landscitech.github.io/ccviR/reference/brks_to_txt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert breaks matrix to text that can be stored in readme — brks_to_txt","text":"brks matrix breaks columns start, end class","code":""},{"path":"https://landscitech.github.io/ccviR/reference/brks_to_txt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert breaks matrix to text that can be stored in readme — brks_to_txt","text":"string breaks format \"class: (start - end);\"","code":""},{"path":"https://landscitech.github.io/ccviR/reference/brks_to_txt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert breaks matrix to text that can be stored in readme — brks_to_txt","text":"","code":"brks_to_txt(matrix(data = 1:6, nrow = 2, byrow = TRUE)) #> [1] \"3: (1 - 2);6: (4 - 5)\""},{"path":"https://landscitech.github.io/ccviR/reference/calc_ccei.html","id":null,"dir":"Reference","previous_headings":"","what":"Caculate CCEI from prepared rasters — calc_ccei","title":"Caculate CCEI from prepared rasters — calc_ccei","text":"Caculate CCEI prepared rasters","code":""},{"path":"https://landscitech.github.io/ccviR/reference/calc_ccei.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Caculate CCEI from prepared rasters — calc_ccei","text":"","code":"calc_ccei(   path_ccei = \"misc/ccei\",   scenario,   models = NULL,   out_append = NULL,   overwrite = FALSE,   quiet = FALSE )"},{"path":"https://landscitech.github.io/ccviR/reference/calc_ccei.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Caculate CCEI from prepared rasters — calc_ccei","text":"path_ccei Character. Path pre-downloaded climate data used calculate CCEI. Expects two folders historical future. scenario Character. scenario calculate CCEI . Must match scenario used raster file names, e.g., \"ssp245\" \"ssp585\" models Character Vector. Subset models include (otherwise uses models). out_append Character. String apped output file. overwrite Logical. Whether overwrite existing file(s) quiet Logical. Whether suppress progress messages.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/calc_ccei.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Caculate CCEI from prepared rasters — calc_ccei","text":"Writes final CCEI rasters (one scenario) path_ccei. ccei_SCENARIO.tif.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/calc_ccei.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Caculate CCEI from prepared rasters — calc_ccei","text":"","code":"if (FALSE) { # \\dontrun{ calc_ccei(scenario = \"ssp245\") calc_ccei(scenario = \"ssp585\") calc_ccei(scenario = \"ssp245\",           models = c(\"ACCESS-ESM1-5\", \"CanESM5\"),           out_append = \"test\") } # }"},{"path":"https://landscitech.github.io/ccviR/reference/calc_vulnerability.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the vulnerability index score — calc_vulnerability","title":"Calculate the vulnerability index score — calc_vulnerability","text":"Calculate NatureServe Climate Change Vulnerability Index completed inputs.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/calc_vulnerability.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the vulnerability index score — calc_vulnerability","text":"","code":"calc_vulnerability(spat_df, vuln_df, tax_grp, n_rnds = 1000)"},{"path":"https://landscitech.github.io/ccviR/reference/calc_vulnerability.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the vulnerability index score — calc_vulnerability","text":"spat_df data.frame spatial inputs produced analyze_spatial vuln_df data.frame answers vulnerability questions. format must match make_vuln_df. tax_grp taxonomic group species. Must match one options n_rnds number Monte Carlo repetitions determining variability multiple values given factor","code":""},{"path":"https://landscitech.github.io/ccviR/reference/calc_vulnerability.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the vulnerability index score — calc_vulnerability","text":"data.frame 1 row per scenario columns: scenario_name Name identifying scenario index index value string. EV: Extremely Vulnerable, HV: Highly Vulnerable, MV: Moderately Vulnerable, LV: Less Vulnerable, IE: Insufficient Evidence conf_index index confidence index based monte carlo. Options Low, Moderate, High, High Insufficient Evidence. mc_results data.frame b_c_score, d_score, index monte carlo repitition mig_exp index migratory exposure. Options Low, Moderate, High, \"N/\" d_score Total score section D modelled response climate change section b_c_score Total score sections B C indirect exposure, sensitivity adaptive capacity sections vuln_df Answers question plus comments. Numerical scores correspond : -1) Unknown, 0) Neutral, 1) Somewhat increase, 2) Increase, 3) Greatly increase. 2 numbers two boxes checked average scores used total score n_b_factors Number factors scored section B n_c_factors Number factors scored section C n_d_factors Number factors scored section D slr_vuln Whether species' vulnerability sea level rise dispersal limitations led index EV","code":""},{"path":"https://landscitech.github.io/ccviR/reference/calc_vulnerability.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate the vulnerability index score — calc_vulnerability","text":"Options tax_grp Vascular Plant, Nonvascular Plant, Lichen, Invert-Insect, Invert-Mollusk, Invert-, Fish, Amphibian, Reptile, Mammal, Bird","code":""},{"path":"https://landscitech.github.io/ccviR/reference/calc_vulnerability.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate the vulnerability index score — calc_vulnerability","text":"","code":"# Setup library(sf) base_pth <- system.file(\"extdata\", package = \"ccviR\") scn_nms <- c(\"RCP 4.5\", \"RCP 8.5\") # scenario names  clim_vars <- get_clim_vars(file.path(base_pth, \"clim_files/processed\"),                            scenario_names = scn_nms)  spat_res <- analyze_spatial(   range_poly = read_sf(file.path(base_pth, \"rng_poly.shp\"), agr = \"constant\"),   scale_poly = read_sf(file.path(base_pth, \"assess_poly.shp\"), agr = \"constant\"),   clim_vars_lst = clim_vars,   hs_rast = terra::rast(c(file.path(base_pth, \"rng_chg_45.tif\"),    file.path(base_pth, \"rng_chg_85.tif\"))),   hs_rcl = matrix(c(-1, 0, 1, 1, 2, 3), ncol = 2),   scenario_names = scn_nms ) #> Checking files #> Preparing polygon 'Climate Data Extext' #> Preparing polygon 'Assessment Area' #> Preparing polygon 'Range' #> Clipping 'Range' to 'Climate Data Extent' #> Clipping 'Range' to 'Assessment Area' #> Assessing local climate exposure #> Assessing thermal & hydrological niches #> Assessing modelled range response to climate change #> Warning: More than 10% of the range change raster does not match the expected values. #> Is the classification table correct? #> Finalizing outputs  # vulnerability factor table with score 1 (somewhat increase vulnerability) # for all factors vuln <- make_vuln_df(\"test_species\", val1 = 1, mig = 1)  v <- calc_vulnerability(spat_res$spat_table, vuln, \"Bird\") #> calculating vulnerability index RCP 4.5 #> finished vulnerability #> calculating vulnerability index RCP 8.5 #> finished vulnerability  # With protected areas  spat_res <- analyze_spatial(   range_poly = read_sf(file.path(base_pth, \"rng_poly.shp\"), agr = \"constant\"),   scale_poly = read_sf(file.path(base_pth, \"assess_poly.shp\"), agr = \"constant\"),   protected_poly = read_sf(file.path(base_pth, \"protected_areas.shp\")),   hs_rast = terra::rast(c(file.path(base_pth, \"rng_chg_45.tif\"),                           file.path(base_pth, \"rng_chg_85.tif\"))),   clim_vars_lst = clim_vars,   hs_rcl = matrix(c(-1, 0, 1, 1, 2, 3), ncol = 2),   scenario_names = scn_nms ) #> Checking files #> Preparing polygon 'Climate Data Extext' #> Preparing polygon 'Assessment Area' #> Preparing polygon 'Range' #> Clipping 'Range' to 'Climate Data Extent' #> Clipping 'Range' to 'Assessment Area' #> Assessing local climate exposure #> Assessing thermal & hydrological niches #> Assessing modelled range response to climate change #> Warning: More than 10% of the range change raster does not match the expected values. #> Is the classification table correct? #> Preparing polygon 'Protected Areas' #> Clipping 'Protected Areas' to 'Assessment Area' #> Transforming polygon 'Protected Areas' #> Finalizing outputs  # Fill in vulnerability Questions vuln <- make_vuln_df(\"test_species\") vuln$Value1[3:19] <- c(0, 0, 1, 0, -1, -1, -1, -1, 0, 0, 1, 0, 0, 1, 0, 0, 0)  # include a second value to reflect uncertainty and trigger a monte carlo to # determine confidence vuln$Value2[3:5] <- c(2, 0, 0)  v <- calc_vulnerability(spat_res$spat_table, vuln, \"Bird\") #> calculating vulnerability index RCP 4.5 #> performing monte carlo #> finished vulnerability #> calculating vulnerability index RCP 8.5 #> performing monte carlo #> finished vulnerability v$vuln_df[[1]] %>% print(n = Inf) #> # A tibble: 29 × 14 #>    Species      Code  Question  Max_Value is_spatial Value1 Value2 Value3 Value4 #>    <chr>        <chr> <chr>     <chr>     <chr>       <dbl>  <dbl> <lgl>  <lgl>  #>  1 test_species Z2    \"Is the … NA        NA             -1     NA NA     NA     #>  2 test_species Z3    \"Is the … NA        NA             -1     NA NA     NA     #>  3 test_species B1    \"Exposur… 3         0               0      2 NA     NA     #>  4 test_species B2a   \"Natural… 3         0               0      0 NA     NA     #>  5 test_species B2b   \"Anthrop… 3         0               1      0 NA     NA     #>  6 test_species B3    \"Predict… 2         0               0     NA NA     NA     #>  7 test_species C1    \"Dispers… 3         0              -1     NA NA     NA     #>  8 test_species C2aii \"Physiol… 3         1              -1     NA NA     NA     #>  9 test_species C2bii \"Physiol… 3         0               0     NA NA     NA     #> 10 test_species C2c   \"Depende… 2         0               0     NA NA     NA     #> 11 test_species C2d   \"Depende… 3         0               1     NA NA     NA     #> 12 test_species C3    \"Restric… 2         0               0     NA NA     NA     #> 13 test_species C4a   \"Depende… 2         0               0     NA NA     NA     #> 14 test_species C4b   \"Dietary… 2         0               1     NA NA     NA     #> 15 test_species C4c   \"Pollina… 2         0              -1     NA NA     NA     #> 16 test_species C4d   \"Depende… 2         0               0     NA NA     NA     #> 17 test_species C4e   \"Sensiti… 2         0               0     NA NA     NA     #> 18 test_species C4f   \"Sensiti… 2         0              -1     NA NA     NA     #> 19 test_species C4g   \"Forms p… 2         0              -1     NA NA     NA     #> 20 test_species C5a   \"Measure… 2         0              -1     NA NA     NA     #> 21 test_species C5b   \"Occurre… 2         0              -1     NA NA     NA     #> 22 test_species C5c   \"Reprodu… 2         0              -1     NA NA     NA     #> 23 test_species C6    \"Phenolo… 2         0              -1     NA NA     NA     #> 24 test_species D1    \"Documen… 3         0              -1     NA NA     NA     #> 25 NA           C2ai   NA       NA        NA              1     NA NA     NA     #> 26 NA           C2bi   NA       NA        NA              2     NA NA     NA     #> 27 NA           D2     NA       NA        NA              2     NA NA     NA     #> 28 NA           D3     NA       NA        NA              2     NA NA     NA     #> 29 NA           D4     NA       NA        NA              1     NA NA     NA     #> # ℹ 5 more variables: comment <chr>, evidence <chr>, N <int>, exp <dbl>, #> #   score <dbl>"},{"path":"https://landscitech.github.io/ccviR/reference/ccei_values.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Annual Climate Moisture Deficit and Mean Temperature — ccei_values","title":"Calculate Annual Climate Moisture Deficit and Mean Temperature — ccei_values","text":"Calculate Annual CMD Mean Temperature preparation creating Climate Exposure Index Raster.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/ccei_values.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Annual Climate Moisture Deficit and Mean Temperature — ccei_values","text":"","code":"ccei_values(rasts, out, aggregate = FALSE, overwrite = TRUE, quiet = FALSE)"},{"path":"https://landscitech.github.io/ccviR/reference/ccei_values.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Annual Climate Moisture Deficit and Mean Temperature — ccei_values","text":"rasts Data.frame rasters prep_ccei_historical() prep_ccei_future() Character. folder/file preface aggregate Logical. Whether tmean cmd aggregated. overwrite Logical. Whether overwrite existing file(s) quiet Logical. Whether suppress progress messages.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/ccei_values.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Annual Climate Moisture Deficit and Mean Temperature — ccei_values","text":"Annual CMD raster tif Annual Mean Temperature raster tif saved 'intermediate' folder path_ccei. aggregate == TRUE, final raster mean standard deviations calculated.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/ccei_values.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate Annual Climate Moisture Deficit and Mean Temperature — ccei_values","text":"CMD = Sum Monthly CMD (difference Eref monthly precipitation) Mean Temperature = Mean monthly average temperature (Midpoint: (Monthly maximum temp + Monthly minimum temp) / 2)","code":""},{"path":"https://landscitech.github.io/ccviR/reference/ccei_values.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Annual Climate Moisture Deficit and Mean Temperature — ccei_values","text":"","code":"if (FALSE) { # \\dontrun{   ccei_values() } # }"},{"path":"https://landscitech.github.io/ccviR/reference/ccei_vars.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate monthly Climate Moisture Deficit and Mean Temperature — ccei_vars","title":"Calculate monthly Climate Moisture Deficit and Mean Temperature — ccei_vars","text":"climr:::calc_Eref() climr:::calc_CMD() expected work vectors, work raster memory.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/ccei_vars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate monthly Climate Moisture Deficit and Mean Temperature — ccei_vars","text":"","code":"ccei_vars(prec_files, tmin_files, tmax_files, clip, quiet = FALSE)"},{"path":"https://landscitech.github.io/ccviR/reference/ccei_vars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate monthly Climate Moisture Deficit and Mean Temperature — ccei_vars","text":"prec_files Character. Files paths precipitation rasters tmin_files Character. Files paths minimum temperature rasters tmax_files Character. Files paths maximum temperature rasters clip SpatExtent. Area clip raster . quiet Logical. Whether suppress progress messages.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/ccei_vars.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate monthly Climate Moisture Deficit and Mean Temperature — ccei_vars","text":"SpatRaster tmean cmd","code":""},{"path":"https://landscitech.github.io/ccviR/reference/ccei_vars.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate monthly Climate Moisture Deficit and Mean Temperature — ccei_vars","text":"terra::app() slow applies function every cell, even extract raster values memory, able apply things parallel much faster. Therefore extract raster values calculate Eref CMD return raster. faster omit NAs calculations.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/ccviR-package.html","id":null,"dir":"Reference","previous_headings":"","what":"ccviR: Calculate the NatureServe Climate Change Vulnerability Index in R — ccviR-package","title":"ccviR: Calculate the NatureServe Climate Change Vulnerability Index in R — ccviR-package","text":"ccviR package implements NatureServe Climate Change Vulnerability Index (CCVI) version 3.02 https://www.natureserve.org/conservation-tools/climate-change-vulnerability-index R package Shiny App. package allows geospatial aspects calculating CCVI done R, removing need separate GIS calculations. also enables easier sensitivity analysis Index. app provides interactive application designed offer user-friendly simple interface calculating NatureServe CCVI. See Young et. al (2012) doi:10.7208/9780226074641-007  Young et. al. (2015) doi:10.1002/wsb.478  detailed description index.","code":""},{"path":[]},{"path":"https://landscitech.github.io/ccviR/reference/ccviR-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"ccviR: Calculate the NatureServe Climate Change Vulnerability Index in R — ccviR-package","text":"Maintainer: Sarah Endicott sarah.endicott@canada.ca (ORCID) Authors: Ilona Naujokaitis-Lewis contributors: Steffi LaZerte (ORCID) [contributor] Majesty King Right Canada, represented Minister Environment Climate Change [copyright holder]","code":""},{"path":"https://landscitech.github.io/ccviR/reference/check_polys.html","id":null,"dir":"Reference","previous_headings":"","what":"Check and fix polygons — check_polys","title":"Check and fix polygons — check_polys","text":"Check fix polygons","code":""},{"path":"https://landscitech.github.io/ccviR/reference/check_polys.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check and fix polygons — check_polys","text":"","code":"check_polys(poly, var_name = \"polygon\", quiet = FALSE)"},{"path":"https://landscitech.github.io/ccviR/reference/check_polys.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check and fix polygons — check_polys","text":"poly Spaitial object. sf convertible sf. var_name Character. Name variable messaging quiet Logical. Whether suppress progress messages.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/check_polys.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check and fix polygons — check_polys","text":"sf polygon","code":""},{"path":"https://landscitech.github.io/ccviR/reference/comb_index_tbl.html","id":null,"dir":"Reference","previous_headings":"","what":"Combined index lookup table — comb_index_tbl","title":"Combined index lookup table — comb_index_tbl","text":"table combining index scores sensitivity (B/C) modelled response climate change (D) sections","code":""},{"path":"https://landscitech.github.io/ccviR/reference/comb_index_tbl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combined index lookup table — comb_index_tbl","text":"","code":"comb_index_tbl"},{"path":"https://landscitech.github.io/ccviR/reference/comb_index_tbl.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Combined index lookup table — comb_index_tbl","text":"object class tbl_df (inherits tbl, data.frame) 25 rows 3 columns.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/common_docs.html","id":null,"dir":"Reference","previous_headings":"","what":"Documentation common to different functions — common_docs","title":"Documentation common to different functions — common_docs","text":"Documentation common different functions","code":""},{"path":"https://landscitech.github.io/ccviR/reference/common_docs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Documentation common to different functions — common_docs","text":"path_ccei Character. Path pre-downloaded climate data used calculate CCEI. Expects two folders historical future. overwrite Logical. Whether overwrite existing file(s) quiet Logical. Whether suppress progress messages. scenario_name Character. string identifying climate change scenario(s) used suffix output files. out_folder Character. Path processed files saved. brks List. Optionally supply brks_mat, brks_cmd brks_ccei list. brks_mat, brks_cmd, brks_ccei matrix containing breaks use classifying mat, cmd ccei 6, 6 4 classes, respectively. See reclassify details matrix format. NULL, default, breaks determined using median half interquartile range","code":""},{"path":"https://landscitech.github.io/ccviR/reference/common_docs.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Documentation common to different functions — common_docs","text":"Use @inheritParams common_docs include function documentation matching argument (include matching args)","code":""},{"path":"https://landscitech.github.io/ccviR/reference/context_North_Am.html","id":null,"dir":"Reference","previous_headings":"","what":"Contextual map data for North America — context_North_Am","title":"Contextual map data for North America — context_North_Am","text":"Data used build context map pdf report.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/context_North_Am.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Contextual map data for North America — context_North_Am","text":"","code":"context_North_Am"},{"path":"https://landscitech.github.io/ccviR/reference/context_North_Am.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Contextual map data for North America — context_North_Am","text":"object class sf (inherits data.frame) 64 rows 2 columns.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/get_clim_vars.html","id":null,"dir":"Reference","previous_headings":"","what":"Load climate variables — get_clim_vars","title":"Load climate variables — get_clim_vars","text":"Load climate variables store list can used analyze_spatial. climate variables first prepared using prep_clim_data.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/get_clim_vars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load climate variables — get_clim_vars","text":"","code":"get_clim_vars(root_pth, scenario_names = \"scn1\", quiet = FALSE)"},{"path":"https://landscitech.github.io/ccviR/reference/get_clim_vars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load climate variables — get_clim_vars","text":"root_pth folder location climate data stored. names must match one c(\"MAT.*tif\", \"CMD.*tif\", \"clim_poly.*shp\",   \"MAP.*tif\", \"ccei.*tif|CCEI.*tif\",\"MWMT.*tif|HTN.*tif\") first three required. scenario_names character vector names identify multiple future climate scenarios. supplied raster file must include scenario name suffix pattern mentioned eg. two MAT files \"MAT_RCP 4.5.tif\" \"MAT_RCP 8.5.tif\" scenario names \"RCP 4.5\" \"RCP 8.5\". happen automatically scenario name provided prep_clim_data. quiet Logical. Whether suppress progress messages.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/get_clim_vars.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load climate variables — get_clim_vars","text":"list climate variables names \"mat\", \"cmd\", \"map\", \"ccei\", \"htn\", \"clim_poly\". multiple scenarios used mat, cmd ccei SpatRasters one layer per scenario.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/get_clim_vars.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load climate variables — get_clim_vars","text":"","code":"pth <- system.file(\"extdata/clim_files/processed\", package = \"ccviR\")  # scenario names scn_nms <- c(\"RCP 4.5\", \"RCP 8.5\")  get_clim_vars(pth, scn_nms) #> $mat #> class       : SpatRaster  #> size        : 44, 43, 2  (nrow, ncol, nlyr) #> resolution  : 10000, 10000  (x, y) #> extent      : 1922000, 2352000, 6573000, 7013000  (xmin, xmax, ymin, ymax) #> coord. ref. : +proj=lcc +lat_0=0 +lon_0=-95 +lat_1=49 +lat_2=77 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs  #> sources     : MAT_reclassRCP_4.5.tif   #>               MAT_reclassRCP_8.5.tif   #> names       : RCP_4.5, RCP_8.5  #> min values  :       1,       6  #> max values  :       5,       6  #>  #> $cmd #> class       : SpatRaster  #> size        : 44, 43, 2  (nrow, ncol, nlyr) #> resolution  : 10000, 10000  (x, y) #> extent      : 1922000, 2352000, 6573000, 7013000  (xmin, xmax, ymin, ymax) #> coord. ref. : +proj=lcc +lat_0=0 +lon_0=-95 +lat_1=49 +lat_2=77 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs  #> sources     : CMD_reclassRCP_4.5.tif   #>               CMD_reclassRCP_8.5.tif   #> names       : RCP_4.5, RCP_8.5  #> min values  :       1,       1  #> max values  :       6,       6  #>  #> $map #> class       : SpatRaster  #> size        : 44, 43, 1  (nrow, ncol, nlyr) #> resolution  : 10000, 10000  (x, y) #> extent      : 1922000, 2352000, 6573000, 7013000  (xmin, xmax, ymin, ymax) #> coord. ref. : +proj=lcc +lat_0=0 +lon_0=-95 +lat_1=49 +lat_2=77 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs  #> source      : MAP.tif  #> name        : NB_norm_MAP  #> min value   :         902  #> max value   :        1357  #>  #> $ccei #> class       : SpatRaster  #> size        : 168, 194, 2  (nrow, ncol, nlyr) #> resolution  : 0.04166667, 0.04166667  (x, y) #> extent      : -87.875, -79.79167, 24.29167, 31.29167  (xmin, xmax, ymin, ymax) #> coord. ref. : lon/lat WGS 84 (EPSG:4326)  #> sources     : CCEI_reclassRCP_4.5.tif   #>               CCEI_reclassRCP_8.5.tif   #> names       : RCP_4.5, RCP_8.5  #> min values  :       2,       3  #> max values  :       3,       3  #>  #> $htn #> class       : SpatRaster  #> size        : 44, 43, 1  (nrow, ncol, nlyr) #> resolution  : 10000, 10000  (x, y) #> extent      : 1922000, 2352000, 6573000, 7013000  (xmin, xmax, ymin, ymax) #> coord. ref. : +proj=lcc +lat_0=0 +lon_0=-95 +lat_1=49 +lat_2=77 +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs  #> source      : MWMT_MCMT_reclass.tif  #> name        : NB_norm_MWMT  #> min value   :            1  #> max value   :            4  #>  #> $clim_poly #> Simple feature collection with 1 feature and 10 fields #> Attribute-geometry relationships: constant (10) #> Geometry type: MULTIPOLYGON #> Dimension:     XY #> Bounding box:  xmin: 1921779 ymin: 6575395 xmax: 2347091 ymax: 7012589 #> Projected CRS: unnamed #>   GID_0 NAME_0   GID_1        NAME_1                VARNAME_1 NL_NAME_1 #> 1   CAN Canada CAN.4_1 New Brunswick Nouveau-Brunswick|Acadia      <NA> #>     TYPE_1 ENGTYPE_1 CC_1 HASC_1                       geometry #> 1 Province  Province   13  CA.NB MULTIPOLYGON (((2210266 657... #>"},{"path":"https://landscitech.github.io/ccviR/reference/make_vuln_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Make vulnerability table — make_vuln_df","title":"Make vulnerability table — make_vuln_df","text":"Make empty vulnerability factor table can filled appropriate value vulnerability factor. Code corresponds questions NatureServe Guidelines Question abbreviated version question. See NatureServe Guidelines detailed instructions score species. Values can -1: Unknown, 0: Neutral, 1: Somewhat Increase, 2: Increase, 3: Greatly Increase.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/make_vuln_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make vulnerability table — make_vuln_df","text":"","code":"make_vuln_df(   sp_nm,   val1 = -1,   val2 = NA,   val3 = NA,   val4 = NA,   cave = 0,   mig = 0,   use_spatial = TRUE )"},{"path":"https://landscitech.github.io/ccviR/reference/make_vuln_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make vulnerability table — make_vuln_df","text":"sp_nm Species name val1 single number fill first column . default -1 Unknown used cases. val2, val3, val4 Additional values. Use default NA cave 0 1 whether species cave ground water dependent. See Guidelines. mig 0 1 species migratory? use_spatial TRUE values factors calculated analyze_spatial set -1 Unknown override results spatial analysis","code":""},{"path":"https://landscitech.github.io/ccviR/reference/make_vuln_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make vulnerability table — make_vuln_df","text":"data.frame can edited used input vuln_df calc_vulnerability","code":""},{"path":"https://landscitech.github.io/ccviR/reference/make_vuln_df.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Make vulnerability table — make_vuln_df","text":"","code":"make_vuln_df(\"sfa\", cave = 1, mig = 0) #>    Species  Code #> 1      sfa    Z2 #> 2      sfa    Z3 #> 3      sfa    B1 #> 4      sfa   B2a #> 5      sfa   B2b #> 6      sfa    B3 #> 7      sfa    C1 #> 8      sfa  C2ai #> 9      sfa C2aii #> 10     sfa  C2bi #> 11     sfa C2bii #> 12     sfa   C2c #> 13     sfa   C2d #> 14     sfa    C3 #> 15     sfa   C4a #> 16     sfa   C4b #> 17     sfa   C4c #> 18     sfa   C4d #> 19     sfa   C4e #> 20     sfa   C4f #> 21     sfa   C4g #> 22     sfa   C5a #> 23     sfa   C5b #> 24     sfa   C5c #> 25     sfa    C6 #> 26     sfa    D1 #> 27     sfa    D2 #> 28     sfa    D3 #> 29     sfa    D4 #>                                                                                  Question #> 1                              Is the species an obligate of caves or groundwater systems #> 2                                                                Is the species migratory #> 3                                                              Exposure to sea level rise #> 4                                                                        Natural barriers #> 5                                                                  Anthropogenic barriers #> 6   Predicted impact of land use changes resulting from human responses to climate change #> 7                                                                 Dispersal and movements #> 8                                                                Historical thermal niche #> 9                                                             Physiological thermal niche #> 10                                                          Historical hydrological niche #> 11                                                       Physiological hydrological niche #> 12    Dependence on a specific disturbance regime likely to be impacted by climate change #> 13                                    Dependence on ice, ice-edge, or snow-cover habitats #> 14                   Restriction to uncommon landscape/geological features or derivatives #> 15                               Dependence on other species to generate required habitat #> 16                                                     Dietary versatility (animals only) #> 17                                                   Pollinator versatility (plants only) #> 18                                    Dependence on other species for propagule dispersal #> 19                                            Sensitivity to pathogens or natural enemies #> 20                           Sensitivity to competition from native or non-native species #> 21                         Forms part of an interspecific interaction not covered by 5a-f #> 22                                                             Measured genetic variation #> 23 Occurrence of bottlenecks in recent evolutionary history (use only if 5a is \"unknown\") #> 24                 Reproductive system (plants only; use only if c5a and c5b are unknown) #> 25      Phenological response to changing seasonal temperature and precipitation dynamics #> 26                                           Documented response to recent climate change #> 27                               Modeled future (2050) change in population or range size #> 28                              Overlap of modeled future (2050) range with current range #> 29                    Occurrence of protected areas in modeled future (2050) distribution #>    Max_Value is_spatial Value1 Value2 Value3 Value4 comment evidence #> 1       <NA>       <NA>      1     NA     NA     NA                  #> 2       <NA>       <NA>      0     NA     NA     NA                  #> 3          3          0     -1     NA     NA     NA                  #> 4          3          0     -1     NA     NA     NA                  #> 5          3          0     -1     NA     NA     NA                  #> 6          2          0     -1     NA     NA     NA                  #> 7          3          0     -1     NA     NA     NA                  #> 8          3          1     -1     NA     NA     NA                  #> 9          3          1     -1     NA     NA     NA                  #> 10         3          1     -1     NA     NA     NA                  #> 11         3          0     -1     NA     NA     NA                  #> 12         2          0     -1     NA     NA     NA                  #> 13         3          0     -1     NA     NA     NA                  #> 14         2          0     -1     NA     NA     NA                  #> 15         2          0     -1     NA     NA     NA                  #> 16         2          0     -1     NA     NA     NA                  #> 17         2          0     -1     NA     NA     NA                  #> 18         2          0     -1     NA     NA     NA                  #> 19         2          0     -1     NA     NA     NA                  #> 20         2          0     -1     NA     NA     NA                  #> 21         2          0     -1     NA     NA     NA                  #> 22         2          0     -1     NA     NA     NA                  #> 23         2          0     -1     NA     NA     NA                  #> 24         2          0     -1     NA     NA     NA                  #> 25         2          0     -1     NA     NA     NA                  #> 26         3          0     -1     NA     NA     NA                  #> 27         3          1     -1     NA     NA     NA                  #> 28         3          1     -1     NA     NA     NA                  #> 29         2          1     -1     NA     NA     NA"},{"path":"https://landscitech.github.io/ccviR/reference/plot_bivar_exp.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot bivariate exposure map — plot_bivar_exp","title":"Plot bivariate exposure map — plot_bivar_exp","text":"Create map exposure climate change based change temperature change climate moisture deficit.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/plot_bivar_exp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot bivariate exposure map — plot_bivar_exp","text":"","code":"plot_bivar_exp(   mat,   cmd,   scale_poly,   rng_poly = NULL,   leg_rel_size = 2.5,   palette = c(bottomleft = \"green\", bottomright = \"blue\", upperleft = \"orange\",     upperright = \"magenta\") )"},{"path":"https://landscitech.github.io/ccviR/reference/plot_bivar_exp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot bivariate exposure map — plot_bivar_exp","text":"mat RasterLayer classified mean annual temperature exposure. cmd RasterLayer classified climate moisture deficit exposure. scale_poly sf polygon assessment area. rng_poly sf polygon species range. Optional. leg_rel_size numeric, shrinkage legend size relative plot. Default 2.5 larger numbers make legend smaller palette named vector colours corner bivariate scale. Required names bottomleft, bottomright, upperleft, upperright.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/plot_bivar_exp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot bivariate exposure map — plot_bivar_exp","text":"list containing 2 ggplot objects \"plot\" containing exposure map \"legend\" containing legend","code":""},{"path":"https://landscitech.github.io/ccviR/reference/plot_bivar_exp.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot bivariate exposure map — plot_bivar_exp","text":"","code":"# load the demo data file_dir <- system.file(\"extdata\", package = \"ccviR\")  # scenario names scn_nms <- c(\"RCP 4.5\", \"RCP 8.5\")  clim_vars <- get_clim_vars(file.path(file_dir, \"clim_files/processed\"),                            scn_nms)  mat <- clim_vars$mat$RCP_4.5 cmd <- clim_vars$cmd$RCP_4.5  assess <- sf::st_read(file.path(file_dir, \"assess_poly.shp\"), agr = \"constant\",                   quiet = TRUE) rng <- sf::st_read(file.path(file_dir, \"rng_poly.shp\"), agr = \"constant\",                quiet = TRUE)  plot_bivar_exp(mat, cmd, assess, rng) #> Preparing polygon 'assessment area polygon' #> Preparing polygon 'assessment area polygon' #> $plot  #>  #> $legend  #>"},{"path":"https://landscitech.github.io/ccviR/reference/plot_evidence.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot evidence by type — plot_evidence","title":"Plot evidence by type — plot_evidence","text":"Plot evidence type","code":""},{"path":"https://landscitech.github.io/ccviR/reference/plot_evidence.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot evidence by type — plot_evidence","text":"","code":"plot_evidence(score_df, base_size = 14)"},{"path":"https://landscitech.github.io/ccviR/reference/plot_evidence.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot evidence by type — plot_evidence","text":"score_df Data frame codes, evidence scores questions. base_size Numeric. Font base size passed.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/plot_evidence.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot evidence by type — plot_evidence","text":"ggplot2 figure","code":""},{"path":"https://landscitech.github.io/ccviR/reference/plot_evidence.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot evidence by type — plot_evidence","text":"","code":"e <- data.frame(   score = c(TRUE, TRUE, TRUE, TRUE, FALSE, FALSE, TRUE),   Code = c(\"B1\", \"B2a\", \"B2b\", \"B3\", \"C1\", \"C2ai\", \"C2aii\"),   evidence = c(\"\", \"Other\", \"Expert Opinion\",                \"Expert Opinion, Literature\", \"\",                \"Spatial Analysis\", \"Spatial Analysis - ccviR\")) plot_evidence(e)  plot_evidence(e[-5,])   plot_evidence(data.frame(score = FALSE, Code = \"B1\", evidence = \"Other\"))"},{"path":"https://landscitech.github.io/ccviR/reference/plot_q_score.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot scores for each vulnerability question — plot_q_score","title":"Plot scores for each vulnerability question — plot_q_score","text":"graph help visualize factors influencing index. Produces plotly graphic bars total score factor modifying based exposure. Hover see name factor value exposure multiplier. Facets produced multiple scenarios","code":""},{"path":"https://landscitech.github.io/ccviR/reference/plot_q_score.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot scores for each vulnerability question — plot_q_score","text":"","code":"plot_q_score(vuln_df, tax_grp = \"Bird\")"},{"path":"https://landscitech.github.io/ccviR/reference/plot_q_score.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot scores for each vulnerability question — plot_q_score","text":"vuln_df vuln_df element result calc_vulnerability added column scenario_name. See examples. tax_grp Taxonomic group","code":""},{"path":"https://landscitech.github.io/ccviR/reference/plot_q_score.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot scores for each vulnerability question — plot_q_score","text":"plotly graph","code":""},{"path":"https://landscitech.github.io/ccviR/reference/plot_q_score.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot scores for each vulnerability question — plot_q_score","text":"","code":"# load dplyr for dealing with nested lists in table library(dplyr) #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union  base_pth <- system.file(\"extdata\", package = \"ccviR\")  # scenario names scn_nms <- c(\"RCP 4.5\", \"RCP 8.5\")  clim_vars <- get_clim_vars(file.path(base_pth, \"clim_files/processed\"), scn_nms)  spat_res <- analyze_spatial(   range_poly = sf::read_sf(file.path(base_pth, \"rng_poly.shp\"), agr = \"constant\"),   scale_poly = sf::read_sf(file.path(base_pth, \"assess_poly.shp\"), agr = \"constant\"),   clim_vars_lst = clim_vars,   hs_rast = terra::rast(c(file.path(base_pth, \"rng_chg_45.tif\"),                           file.path(base_pth, \"rng_chg_85.tif\"))),   hs_rcl = matrix(c(-1, 0, 1, 1, 2, 3), ncol = 2),   scenario_names = scn_nms ) #> Checking files #> Preparing polygon 'Climate Data Extext' #> Preparing polygon 'Assessment Area' #> Preparing polygon 'Range' #> Clipping 'Range' to 'Climate Data Extent' #> Clipping 'Range' to 'Assessment Area' #> Assessing local climate exposure #> Assessing thermal & hydrological niches #> Assessing modelled range response to climate change #> Warning: More than 10% of the range change raster does not match the expected values. #> Is the classification table correct? #> Finalizing outputs  # vulnerability factor table with score 1 (somewhat increase vulnerability) # for all factors vuln <- make_vuln_df(\"test_species\", val1 = 1, mig = 1) vuln$Value1[vuln$Code == \"D4\"] <- 1  index_vuln <- calc_vulnerability(spat_res$spat_table, vuln, \"Bird\") #> calculating vulnerability index RCP 4.5 #> finished vulnerability #> calculating vulnerability index RCP 8.5 #> finished vulnerability  bind_rows(index_vuln$vuln_df %>% `names<-`(index_vuln$scenario_name),           .id = \"scenario_name\") %>%   plot_q_score(tax_grp = \"Bird\")  {\"x\":{\"data\":[{\"x\":[1,1.3,1.3,1.3],\"y\":[20,19,18,17],\"text\":[\"Exposure to sea level rise:<br />Exposure Multiplier: 1<br />Score: 1\",\"Natural barriers:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Anthropogenic barriers:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Predicted impact of land use changes resulting from human responses to climate change:<br />Exposure Multiplier: 1.3<br />Score: 1.3\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(128,177,211,1)\",\"opacity\":1,\"size\":1.8897637795275593,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(89,89,89,1)\"}},\"hoveron\":\"points\",\"name\":\"B\",\"legendgroup\":\"B\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[1.3,0.001,1,1.3,1.3,1.3,1.3,1.3,1.3,1.3,1.3,1.3,1.3,1.3,1.6000000000000001,2],\"y\":[16,14,12,11,10,9,8,7,6,5,4,3,2,1,15,13],\"text\":[\"Dispersal and movements:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Physiological thermal niche:<br />Exposure Multiplier: 1.6<br />Score: Unknown\",\"Physiological hydrological niche:<br />Exposure Multiplier: 1<br />Score: 1\",\"Dependence on a specific disturbance regime likely to be impacted by climate change:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Dependence on ice, ice-edge, or snow-cover habitats:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Restriction to uncommon landscape/geological features or derivatives:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Dependence on other species to generate required habitat:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Dietary versatility (animals only):<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Dependence on other species for propagule dispersal:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Sensitivity to pathogens or natural enemies:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Sensitivity to competition from native or non-native species:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Forms part of an interspecific interaction not covered by 5a-f:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Measured genetic variation:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Phenological response to changing seasonal temperature and precipitation dynamics:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Historical thermal niche:<br />Exposure Multiplier: 1.6<br />Score: 1.6\",\"Historical hydrological niche:<br />Exposure Multiplier: 1<br />Score: 2\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(141,211,199,1)\",\"opacity\":1,\"size\":1.8897637795275593,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(89,89,89,1)\"}},\"hoveron\":\"points\",\"name\":\"C\",\"legendgroup\":\"C\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"h\",\"width\":[0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],\"base\":[0,0,0,0],\"x\":[1,1.3,1.3,1.3],\"y\":[20,19,18,17],\"text\":[\"Exposure to sea level rise:<br />Exposure Multiplier: 1<br />Score: 1\",\"Natural barriers:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Anthropogenic barriers:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Predicted impact of land use changes resulting from human responses to climate change:<br />Exposure Multiplier: 1.3<br />Score: 1.3\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(128,177,211,1)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(89,89,89,1)\"}},\"name\":\"B\",\"legendgroup\":\"B\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"h\",\"width\":[0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999947,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000013,0.89999999999999991,0.89999999999999858,0.89999999999999858],\"base\":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\"x\":[1.3,0.001,1,1.3,1.3,1.3,1.3,1.3,1.3,1.3,1.3,1.3,1.3,1.3,1.6000000000000001,2],\"y\":[16,14,12,11,10,9,8,7,6,5,4,3,2,1,15,13],\"text\":[\"Dispersal and movements:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Physiological thermal niche:<br />Exposure Multiplier: 1.6<br />Score: Unknown\",\"Physiological hydrological niche:<br />Exposure Multiplier: 1<br />Score: 1\",\"Dependence on a specific disturbance regime likely to be impacted by climate change:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Dependence on ice, ice-edge, or snow-cover habitats:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Restriction to uncommon landscape/geological features or derivatives:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Dependence on other species to generate required habitat:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Dietary versatility (animals only):<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Dependence on other species for propagule dispersal:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Sensitivity to pathogens or natural enemies:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Sensitivity to competition from native or non-native species:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Forms part of an interspecific interaction not covered by 5a-f:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Measured genetic variation:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Phenological response to changing seasonal temperature and precipitation dynamics:<br />Exposure Multiplier: 1.3<br />Score: 1.3\",\"Historical thermal niche:<br />Exposure Multiplier: 1.6<br />Score: 1.6\",\"Historical hydrological niche:<br />Exposure Multiplier: 1<br />Score: 2\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(141,211,199,1)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(89,89,89,1)\"}},\"name\":\"C\",\"legendgroup\":\"C\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"h\",\"width\":[0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],\"base\":[0,0,0,0],\"x\":[3,6.6000000000000005,6.6000000000000005,4.4000000000000004],\"y\":[20,19,18,17],\"text\":\"\",\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(128,177,211,0.4)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"transparent\"}},\"name\":\"B\",\"legendgroup\":\"B\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"h\",\"width\":[0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999947,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000013,0.89999999999999991],\"base\":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\"x\":[6.6000000000000005,7.1999999999999993,7.1999999999999993,6,6,4.4000000000000004,6.6000000000000005,4.4000000000000004,4.4000000000000004,4.4000000000000004,4.4000000000000004,4.4000000000000004,4.4000000000000004,4.4000000000000004,4.4000000000000004,4.4000000000000004],\"y\":[16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1],\"text\":\"\",\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(141,211,199,0.4)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"transparent\"}},\"name\":\"C\",\"legendgroup\":\"C\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[1,1.7,1.7,1.7],\"y\":[20,19,18,17],\"text\":[\"Exposure to sea level rise:<br />Exposure Multiplier: 1<br />Score: 1\",\"Natural barriers:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Anthropogenic barriers:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Predicted impact of land use changes resulting from human responses to climate change:<br />Exposure Multiplier: 1.7<br />Score: 1.7\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(128,177,211,1)\",\"opacity\":1,\"size\":1.8897637795275593,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(89,89,89,1)\"}},\"hoveron\":\"points\",\"name\":\"B\",\"legendgroup\":\"B\",\"showlegend\":true,\"xaxis\":\"x2\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[1.7,0.001,1,1.7,1.7,1.7,1.7,1.7,1.7,1.7,1.7,1.7,1.7,1.7,2.3999999999999999,2],\"y\":[16,14,12,11,10,9,8,7,6,5,4,3,2,1,15,13],\"text\":[\"Dispersal and movements:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Physiological thermal niche:<br />Exposure Multiplier: 2.4<br />Score: Unknown\",\"Physiological hydrological niche:<br />Exposure Multiplier: 1<br />Score: 1\",\"Dependence on a specific disturbance regime likely to be impacted by climate change:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Dependence on ice, ice-edge, or snow-cover habitats:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Restriction to uncommon landscape/geological features or derivatives:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Dependence on other species to generate required habitat:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Dietary versatility (animals only):<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Dependence on other species for propagule dispersal:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Sensitivity to pathogens or natural enemies:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Sensitivity to competition from native or non-native species:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Forms part of an interspecific interaction not covered by 5a-f:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Measured genetic variation:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Phenological response to changing seasonal temperature and precipitation dynamics:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Historical thermal niche:<br />Exposure Multiplier: 2.4<br />Score: 2.4\",\"Historical hydrological niche:<br />Exposure Multiplier: 1<br />Score: 2\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(141,211,199,1)\",\"opacity\":1,\"size\":1.8897637795275593,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(89,89,89,1)\"}},\"hoveron\":\"points\",\"name\":\"C\",\"legendgroup\":\"C\",\"showlegend\":true,\"xaxis\":\"x2\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"h\",\"width\":[0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],\"base\":[0,0,0,0],\"x\":[1,1.7,1.7,1.7],\"y\":[20,19,18,17],\"text\":[\"Exposure to sea level rise:<br />Exposure Multiplier: 1<br />Score: 1\",\"Natural barriers:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Anthropogenic barriers:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Predicted impact of land use changes resulting from human responses to climate change:<br />Exposure Multiplier: 1.7<br />Score: 1.7\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(128,177,211,1)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(89,89,89,1)\"}},\"name\":\"B\",\"legendgroup\":\"B\",\"showlegend\":false,\"xaxis\":\"x2\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"h\",\"width\":[0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999947,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000013,0.89999999999999991,0.89999999999999858,0.89999999999999858],\"base\":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\"x\":[1.7,0.001,1,1.7,1.7,1.7,1.7,1.7,1.7,1.7,1.7,1.7,1.7,1.7,2.3999999999999999,2],\"y\":[16,14,12,11,10,9,8,7,6,5,4,3,2,1,15,13],\"text\":[\"Dispersal and movements:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Physiological thermal niche:<br />Exposure Multiplier: 2.4<br />Score: Unknown\",\"Physiological hydrological niche:<br />Exposure Multiplier: 1<br />Score: 1\",\"Dependence on a specific disturbance regime likely to be impacted by climate change:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Dependence on ice, ice-edge, or snow-cover habitats:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Restriction to uncommon landscape/geological features or derivatives:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Dependence on other species to generate required habitat:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Dietary versatility (animals only):<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Dependence on other species for propagule dispersal:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Sensitivity to pathogens or natural enemies:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Sensitivity to competition from native or non-native species:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Forms part of an interspecific interaction not covered by 5a-f:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Measured genetic variation:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Phenological response to changing seasonal temperature and precipitation dynamics:<br />Exposure Multiplier: 1.7<br />Score: 1.7\",\"Historical thermal niche:<br />Exposure Multiplier: 2.4<br />Score: 2.4\",\"Historical hydrological niche:<br />Exposure Multiplier: 1<br />Score: 2\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(141,211,199,1)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(89,89,89,1)\"}},\"name\":\"C\",\"legendgroup\":\"C\",\"showlegend\":false,\"xaxis\":\"x2\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"h\",\"width\":[0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],\"base\":[0,0,0,0],\"x\":[3,6.6000000000000005,6.6000000000000005,4.4000000000000004],\"y\":[20,19,18,17],\"text\":\"\",\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(128,177,211,0.4)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"transparent\"}},\"name\":\"B\",\"legendgroup\":\"B\",\"showlegend\":false,\"xaxis\":\"x2\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"h\",\"width\":[0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999947,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000013,0.89999999999999991],\"base\":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\"x\":[6.6000000000000005,7.1999999999999993,7.1999999999999993,6,6,4.4000000000000004,6.6000000000000005,4.4000000000000004,4.4000000000000004,4.4000000000000004,4.4000000000000004,4.4000000000000004,4.4000000000000004,4.4000000000000004,4.4000000000000004,4.4000000000000004],\"y\":[16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1],\"text\":\"\",\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(141,211,199,0.4)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"transparent\"}},\"name\":\"C\",\"legendgroup\":\"C\",\"showlegend\":false,\"xaxis\":\"x2\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[1,1,2,2],\"y\":[4,1,3,2],\"text\":[\"Documented response to recent climate change:<br />Exposure Multiplier: 1<br />Score: 1\",\"Occurrence of protected areas in modeled future (2050) distribution:<br />Exposure Multiplier: 1<br />Score: 1\",\"Modeled future (2050) change in population or range size:<br />Exposure Multiplier: 1<br />Score: 2\",\"Overlap of modeled future (2050) range with current range:<br />Exposure Multiplier: 1<br />Score: 2\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(251,128,114,1)\",\"opacity\":1,\"size\":1.8897637795275593,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(89,89,89,1)\"}},\"hoveron\":\"points\",\"name\":\"D\",\"legendgroup\":\"D\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y2\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"h\",\"width\":[0.90000000000000036,0.89999999999999991,0.90000000000000036,0.90000000000000013],\"base\":[0,0,0,0],\"x\":[1,1,2,2],\"y\":[4,1,3,2],\"text\":[\"Documented response to recent climate change:<br />Exposure Multiplier: 1<br />Score: 1\",\"Occurrence of protected areas in modeled future (2050) distribution:<br />Exposure Multiplier: 1<br />Score: 1\",\"Modeled future (2050) change in population or range size:<br />Exposure Multiplier: 1<br />Score: 2\",\"Overlap of modeled future (2050) range with current range:<br />Exposure Multiplier: 1<br />Score: 2\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(251,128,114,1)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(89,89,89,1)\"}},\"name\":\"D\",\"legendgroup\":\"D\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y2\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"h\",\"width\":[0.90000000000000036,0.90000000000000036,0.90000000000000013,0.89999999999999991],\"base\":[0,0,0,0],\"x\":[3,3,3,2],\"y\":[4,3,2,1],\"text\":\"\",\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(251,128,114,0.4)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"transparent\"}},\"name\":\"D\",\"legendgroup\":\"D\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y2\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[1,1,2,2],\"y\":[4,1,3,2],\"text\":[\"Documented response to recent climate change:<br />Exposure Multiplier: 1<br />Score: 1\",\"Occurrence of protected areas in modeled future (2050) distribution:<br />Exposure Multiplier: 1<br />Score: 1\",\"Modeled future (2050) change in population or range size:<br />Exposure Multiplier: 1<br />Score: 2\",\"Overlap of modeled future (2050) range with current range:<br />Exposure Multiplier: 1<br />Score: 2\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(251,128,114,1)\",\"opacity\":1,\"size\":1.8897637795275593,\"symbol\":\"circle\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(89,89,89,1)\"}},\"hoveron\":\"points\",\"name\":\"D\",\"legendgroup\":\"D\",\"showlegend\":true,\"xaxis\":\"x2\",\"yaxis\":\"y2\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"h\",\"width\":[0.90000000000000036,0.89999999999999991,0.90000000000000036,0.90000000000000013],\"base\":[0,0,0,0],\"x\":[1,1,2,2],\"y\":[4,1,3,2],\"text\":[\"Documented response to recent climate change:<br />Exposure Multiplier: 1<br />Score: 1\",\"Occurrence of protected areas in modeled future (2050) distribution:<br />Exposure Multiplier: 1<br />Score: 1\",\"Modeled future (2050) change in population or range size:<br />Exposure Multiplier: 1<br />Score: 2\",\"Overlap of modeled future (2050) range with current range:<br />Exposure Multiplier: 1<br />Score: 2\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(251,128,114,1)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"rgba(89,89,89,1)\"}},\"name\":\"D\",\"legendgroup\":\"D\",\"showlegend\":false,\"xaxis\":\"x2\",\"yaxis\":\"y2\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"h\",\"width\":[0.90000000000000036,0.90000000000000036,0.90000000000000013,0.89999999999999991],\"base\":[0,0,0,0],\"x\":[3,3,3,2],\"y\":[4,3,2,1],\"text\":\"\",\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(251,128,114,0.4)\",\"line\":{\"width\":1.8897637795275593,\"color\":\"transparent\"}},\"name\":\"D\",\"legendgroup\":\"D\",\"showlegend\":false,\"xaxis\":\"x2\",\"yaxis\":\"y2\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"xaxis\":{\"domain\":[0,0.47999999999999998],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0,8],\"tickmode\":\"array\",\"ticktext\":[\"0\",\"2\",\"4\",\"6\",\"8\"],\"tickvals\":[0,2,4,6,8],\"categoryorder\":\"array\",\"categoryarray\":[\"0\",\"2\",\"4\",\"6\",\"8\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.9850560398505608,\"tickwidth\":0.72455564360919278,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":12.7521793275218},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.72455564360919278,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y2\",\"title\":\"\",\"hoverformat\":\".2f\"},\"xaxis2\":{\"domain\":[0.52000000000000002,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0,8],\"tickmode\":\"array\",\"ticktext\":[\"0\",\"2\",\"4\",\"6\",\"8\"],\"tickvals\":[0,2,4,6,8],\"categoryorder\":\"array\",\"categoryarray\":[\"0\",\"2\",\"4\",\"6\",\"8\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.9850560398505608,\"tickwidth\":0.72455564360919278,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":12.7521793275218},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.72455564360919278,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y2\",\"title\":\"\",\"hoverformat\":\".2f\"},\"yaxis2\":{\"domain\":[0,0.16666666666666666],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.55000000000000004,4.4500000000000002],\"tickmode\":\"array\",\"ticktext\":[\"D4\",\"D3\",\"D2\",\"D1\"],\"tickvals\":[1,2,3,4],\"categoryorder\":\"array\",\"categoryarray\":[\"D4\",\"D3\",\"D2\",\"D1\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.9850560398505608,\"tickwidth\":0.72455564360919278,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":12.7521793275218},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.72455564360919278,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":\"\",\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0.20666666666666664,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.55000000000000004,20.449999999999999],\"tickmode\":\"array\",\"ticktext\":[\"C6\",\"C5a\",\"C4g\",\"C4f\",\"C4e\",\"C4d\",\"C4b\",\"C4a\",\"C3\",\"C2d\",\"C2c\",\"C2bii\",\"C2bi\",\"C2aii\",\"C2ai\",\"C1\",\"B3\",\"B2b\",\"B2a\",\"B1\"],\"tickvals\":[1,1.9999999999999998,3,4,5,6,7,7.9999999999999991,9,10,11,12,13,14,15,16,17,18,19,20],\"categoryorder\":\"array\",\"categoryarray\":[\"C6\",\"C5a\",\"C4g\",\"C4f\",\"C4e\",\"C4d\",\"C4b\",\"C4a\",\"C3\",\"C2d\",\"C2c\",\"C2bii\",\"C2bi\",\"C2aii\",\"C2ai\",\"C1\",\"B3\",\"B2b\",\"B2a\",\"B1\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.9850560398505608,\"tickwidth\":0.72455564360919278,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":12.7521793275218},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.72455564360919278,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":\"\",\"hoverformat\":\".2f\"},\"annotations\":[{\"text\":\"RCP 4.5\",\"x\":0.23999999999999999,\"y\":1,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(26,26,26,1)\",\"family\":\"\",\"size\":12.7521793275218},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"bottom\"},{\"text\":\"B/C index\",\"x\":0.47999999999999998,\"y\":0.60333333333333328,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(26,26,26,1)\",\"family\":\"\",\"size\":12.7521793275218},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":90,\"xanchor\":\"left\",\"yanchor\":\"middle\"},{\"text\":\"RCP 8.5\",\"x\":0.76000000000000001,\"y\":1,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(26,26,26,1)\",\"family\":\"\",\"size\":12.7521793275218},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"bottom\"},{\"text\":\"B/C index\",\"x\":1,\"y\":0.60333333333333328,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(26,26,26,1)\",\"family\":\"\",\"size\":12.7521793275218},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":90,\"xanchor\":\"left\",\"yanchor\":\"middle\"},{\"text\":\"RCP 4.5\",\"x\":0.23999999999999999,\"y\":0.16666666666666666,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(26,26,26,1)\",\"family\":\"\",\"size\":12.7521793275218},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"bottom\"},{\"text\":\"D index\",\"x\":0.47999999999999998,\"y\":0.083333333333333329,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(26,26,26,1)\",\"family\":\"\",\"size\":12.7521793275218},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":90,\"xanchor\":\"left\",\"yanchor\":\"middle\"},{\"text\":\"RCP 8.5\",\"x\":0.76000000000000001,\"y\":0.16666666666666666,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(26,26,26,1)\",\"family\":\"\",\"size\":12.7521793275218},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"bottom\"},{\"text\":\"D index\",\"x\":1,\"y\":0.083333333333333329,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(26,26,26,1)\",\"family\":\"\",\"size\":12.7521793275218},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":90,\"xanchor\":\"left\",\"yanchor\":\"middle\"}],\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"x0\":0,\"x1\":0.47999999999999998,\"y0\":0.20666666666666664,\"y1\":1},{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"x0\":0,\"x1\":0.47999999999999998,\"y0\":0,\"y1\":25.5043586550436,\"yanchor\":1,\"ysizemode\":\"pixel\"},{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"y0\":0.20666666666666664,\"y1\":1,\"x0\":0,\"x1\":25.5043586550436,\"xanchor\":0.47999999999999998,\"xsizemode\":\"pixel\"},{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"x0\":0.52000000000000002,\"x1\":1,\"y0\":0.20666666666666664,\"y1\":1},{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"x0\":0.52000000000000002,\"x1\":1,\"y0\":0,\"y1\":25.5043586550436,\"yanchor\":1,\"ysizemode\":\"pixel\"},{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"y0\":0.20666666666666664,\"y1\":1,\"x0\":0,\"x1\":25.5043586550436,\"xanchor\":1,\"xsizemode\":\"pixel\"},{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"x0\":0,\"x1\":0.47999999999999998,\"y0\":0,\"y1\":0.16666666666666666},{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"x0\":0,\"x1\":0.47999999999999998,\"y0\":0,\"y1\":25.5043586550436,\"yanchor\":0.16666666666666666,\"ysizemode\":\"pixel\"},{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"y0\":0,\"y1\":0.16666666666666666,\"x0\":0,\"x1\":25.5043586550436,\"xanchor\":0.47999999999999998,\"xsizemode\":\"pixel\"},{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"x0\":0.52000000000000002,\"x1\":1,\"y0\":0,\"y1\":0.16666666666666666},{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"x0\":0.52000000000000002,\"x1\":1,\"y0\":0,\"y1\":25.5043586550436,\"yanchor\":0.16666666666666666,\"ysizemode\":\"pixel\"},{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"layer\":\"below\",\"y0\":0,\"y1\":0.16666666666666666,\"x0\":0,\"x1\":25.5043586550436,\"xanchor\":1,\"xsizemode\":\"pixel\"}],\"images\":[],\"margin\":{\"t\":36.722291407222919,\"r\":20.722291407222922,\"b\":40.647571606475722,\"l\":40.647571606475722},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":15.940224159402243},\"showlegend\":false,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":2.0615604867573367,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":12.7521793275218}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"attrs\":{\"2c6a46002df6\":{\"x\":{},\"y\":{},\"text\":{},\"fill\":{},\"type\":\"scatter\"},\"2c6a6532546b\":{\"x\":{},\"y\":{},\"text\":{},\"fill\":{}},\"2c6a421a53cf\":{\"x\":{},\"y\":{},\"fill\":{}},\"2c6a11f0f9\":{\"x\":{},\"y\":{},\"text\":{},\"fill\":{},\"type\":\"scatter\"},\"2c6a3039fb67\":{\"x\":{},\"y\":{},\"text\":{},\"fill\":{}},\"2c6a4facadf5\":{\"x\":{},\"y\":{},\"fill\":{}},\"2c6a7d1f967c\":{\"x\":{},\"y\":{},\"text\":{},\"fill\":{},\"type\":\"scatter\"},\"2c6a1692c19c\":{\"x\":{},\"y\":{},\"text\":{},\"fill\":{}},\"2c6a28b9d293\":{\"x\":{},\"y\":{},\"fill\":{}},\"2c6a16e81d90\":{\"x\":{},\"y\":{},\"text\":{},\"fill\":{},\"type\":\"scatter\"},\"2c6a44cc83ca\":{\"x\":{},\"y\":{},\"text\":{},\"fill\":{}},\"2c6a77216d\":{\"x\":{},\"y\":{},\"fill\":{}}},\"source\":\"A\",\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"subplot\":true,\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}"},{"path":"https://landscitech.github.io/ccviR/reference/plot_score_index.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualize the D score, B/C score and index — plot_score_index","title":"Visualize the D score, B/C score and index — plot_score_index","text":"graph visualize result falls relative thresholds used calculate index values combination D score B/C score affects overall index value.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/plot_score_index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualize the D score, B/C score and index — plot_score_index","text":"","code":"plot_score_index(score_df)"},{"path":"https://landscitech.github.io/ccviR/reference/plot_score_index.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualize the D score, B/C score and index — plot_score_index","text":"score_df dataframe containing result call calc_vulnerability.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/plot_score_index.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualize the D score, B/C score and index — plot_score_index","text":"ggplot2 graph.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/plot_score_index.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Visualize the D score, B/C score and index — plot_score_index","text":"colours show location thresholds used determine index, points show score scenario lines show range scores produced Monte Carlo simulations. Multiple scenarios identified different symbols","code":""},{"path":"https://landscitech.github.io/ccviR/reference/plot_score_index.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visualize the D score, B/C score and index — plot_score_index","text":"","code":"base_pth <- system.file(\"extdata\", package = \"ccviR\")  # scenario names scn_nms <- c(\"RCP 4.5\", \"RCP 8.5\")  clim_vars <- get_clim_vars(file.path(base_pth, \"clim_files/processed\"),                            scenario_names = scn_nms)  spat_res <- analyze_spatial(   range_poly = sf::read_sf(file.path(base_pth, \"rng_poly.shp\"), agr = \"constant\"),   scale_poly = sf::read_sf(file.path(base_pth, \"assess_poly.shp\"), agr = \"constant\"),   clim_vars_lst = clim_vars,   hs_rast = terra::rast(c(file.path(base_pth, \"rng_chg_45.tif\"),                           file.path(base_pth, \"rng_chg_85.tif\"))),   hs_rcl = matrix(c(-1, 0, 1, 1, 2, 3), ncol = 2),   scenario_names = scn_nms ) #> Checking files #> Preparing polygon 'Climate Data Extext' #> Preparing polygon 'Assessment Area' #> Preparing polygon 'Range' #> Clipping 'Range' to 'Climate Data Extent' #> Clipping 'Range' to 'Assessment Area' #> Assessing local climate exposure #> Assessing thermal & hydrological niches #> Assessing modelled range response to climate change #> Warning: More than 10% of the range change raster does not match the expected values. #> Is the classification table correct? #> Finalizing outputs  # vulnerability factor table with score 1 (somewhat increase vulnerability) # for all factors vuln <- make_vuln_df(\"test_species\", val1 = 1, mig = 1) vuln$Value2[c(5, 7, 9)] <- 3  index_vuln <- calc_vulnerability(spat_res$spat_table, vuln, \"Bird\") #> calculating vulnerability index RCP 4.5 #> performing monte carlo #> finished vulnerability #> calculating vulnerability index RCP 8.5 #> performing monte carlo #> finished vulnerability  plot_score_index(index_vuln)"},{"path":"https://landscitech.github.io/ccviR/reference/prep_ccei.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare Climate Change Exposure Index raster — prep_ccei","title":"Prepare Climate Change Exposure Index raster — prep_ccei","text":"Using Standardized Euclidean Distance method Williams et al., 2007 NatureServe v3.02.1 2016.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/prep_ccei.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare Climate Change Exposure Index raster — prep_ccei","text":"","code":"prep_ccei(path_ccei = \"misc/ccei\", overwrite = TRUE, quiet = FALSE)"},{"path":"https://landscitech.github.io/ccviR/reference/prep_ccei.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare Climate Change Exposure Index raster — prep_ccei","text":"path_ccei Character. Path pre-downloaded climate data used calculate CCEI. Expects two folders historical future. overwrite Logical. Whether overwrite existing file(s) quiet Logical. Whether suppress progress messages.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/prep_ccei.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare Climate Change Exposure Index raster — prep_ccei","text":"Creates rasters saves path_ccei. final CCEI rasters saved ccei_ssp245.tif ccei_ssp585.tif.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/prep_ccei.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Prepare Climate Change Exposure Index raster — prep_ccei","text":"J.W. Williams, S.T. Jackson, J.E. Kutzbach, Projected distributions novel disappearing climates 2100 AD, Proc. Natl. Acad. Sci. U.S.. 104 (14) 5738-5742, https://doi.org/10.1073/pnas.0606292104 (2007). B.E. Young, E. Byers, G. Hammerson, . Frances, L. Oliver, . Treher, Guidelines Using NatureServe Climate Change Vulnerability Index. Release 3.02. https://www.natureserve.org/sites/default/files/guidelines_natureserveclimatechangevulnerabilityindex_r3.02_1_jun_2016.pdf (June 1st 2016)","code":""},{"path":"https://landscitech.github.io/ccviR/reference/prep_ccei.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare Climate Change Exposure Index raster — prep_ccei","text":"","code":"if (FALSE) { # \\dontrun{   prep_ccei() } # }"},{"path":"https://landscitech.github.io/ccviR/reference/prep_ccei_future.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare Future Data for Climate Change Exposure Index — prep_ccei_future","title":"Prepare Future Data for Climate Change Exposure Index — prep_ccei_future","text":"Calculate CMD Tmean monthly data averages.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/prep_ccei_future.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare Future Data for Climate Change Exposure Index — prep_ccei_future","text":"","code":"prep_ccei_future(path_ccei = \"misc/ccei\", overwrite = TRUE, quiet = FALSE)"},{"path":"https://landscitech.github.io/ccviR/reference/prep_ccei_future.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare Future Data for Climate Change Exposure Index — prep_ccei_future","text":"path_ccei Character. Path pre-downloaded climate data used calculate CCEI. Expects two folders historical future. overwrite Logical. Whether overwrite existing file(s) quiet Logical. Whether suppress progress messages.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/prep_ccei_future.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare Future Data for Climate Change Exposure Index — prep_ccei_future","text":"Writes rasters path_ccei \"Intermediate\" folder. Overall averages model/scenario future_MODEL-SCENARIO.tif.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/prep_ccei_future.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare Future Data for Climate Change Exposure Index — prep_ccei_future","text":"","code":"if (FALSE) { # \\dontrun{   prep_ccei_future() } # }"},{"path":"https://landscitech.github.io/ccviR/reference/prep_ccei_historical.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare Historical Data for Climate Change Exposure Index — prep_ccei_historical","title":"Prepare Historical Data for Climate Change Exposure Index — prep_ccei_historical","text":"Calculate CMD Tmean monthly data, calculate annual values (see ccei_annual()). Combine calculate mean interannual standard deviations raster cell entire historical record.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/prep_ccei_historical.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare Historical Data for Climate Change Exposure Index — prep_ccei_historical","text":"","code":"prep_ccei_historical(path_ccei = \"misc/ccei\", overwrite = TRUE, quiet = FALSE)"},{"path":"https://landscitech.github.io/ccviR/reference/prep_ccei_historical.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare Historical Data for Climate Change Exposure Index — prep_ccei_historical","text":"path_ccei Character. Path pre-downloaded climate data used calculate CCEI. Expects two folders historical future. overwrite Logical. Whether overwrite existing file(s) quiet Logical. Whether suppress progress messages.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/prep_ccei_historical.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare Historical Data for Climate Change Exposure Index — prep_ccei_historical","text":"Writes intermediate final rasters path_ccei \"Intermediate\" folder. Annual means (hist_YYYY.tif hist_groups_VAR.tif)well overall historical averages standard deviations hist_all_vars.tif.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/prep_ccei_historical.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare Historical Data for Climate Change Exposure Index — prep_ccei_historical","text":"","code":"if (FALSE) { # \\dontrun{   prep_ccei_historical() } # }"},{"path":"https://landscitech.github.io/ccviR/reference/prep_clim_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare climate data — prep_clim_data","title":"Prepare climate data — prep_clim_data","text":"Prepare data raw form needed calculating index. See NatureServe Guidelines details data prepared.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/prep_clim_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare climate data — prep_clim_data","text":"","code":"prep_clim_data(   mat_norm,   mat_fut,   cmd_norm,   cmd_fut,   ccei = NULL,   map = NULL,   mwmt = NULL,   mcmt = NULL,   clim_poly = NULL,   in_folder = NULL,   out_folder,   reproject = FALSE,   overwrite = FALSE,   scenario_name = \"\",   brks = NULL,   brks_mat = NULL,   brks_cmd = NULL,   brks_ccei = NULL,   quiet = FALSE,   n = c(1, 1) )"},{"path":"https://landscitech.github.io/ccviR/reference/prep_clim_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare climate data — prep_clim_data","text":"mat_norm, mat_fut, cmd_norm, cmd_fut, ccei, map, mwmt, mcmt, clim_poly file paths find data in_folder given in_folder file path files stored. Files must named according convention described details out_folder Character. Path processed files saved. reproject data re-projected lat/long? recommended. overwrite Logical. Whether overwrite existing file(s) scenario_name Character. string identifying climate change scenario(s) used suffix output files. brks List. Optionally supply brks_mat, brks_cmd brks_ccei list. brks_mat, brks_cmd, brks_ccei matrix containing breaks use classifying mat, cmd ccei 6, 6 4 classes, respectively. See reclassify details matrix format. NULL, default, breaks determined using median half interquartile range quiet Logical. Whether suppress progress messages. n Numeric vector. use prep_clim_data_multi() progresses messages skip unnecessary steps. change.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/prep_clim_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare climate data — prep_clim_data","text":"Returns list matrices breaks used classify mat, cmd ccei. list can supplied future call prep_clim_data order use breaks multiple climate data sets. Processed data saved out_folder","code":""},{"path":"https://landscitech.github.io/ccviR/reference/prep_clim_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Prepare climate data — prep_clim_data","text":"Definition input data sets file names required in_folder: mat_norm: \"MAT\" mean annual temperature historical normal period mat_fut: \"MAT_2050\" mean annual temperature future climate change can number eg 2050, 2100 cmd_norm: \"CMD\" climate moisture deficit historical normal period cmd_fut: \"CMD_2050\" climate moisture deficit future climate change can number eg 2050, 2100 ccei: \"CCEI\" Climate Change Exposure Index NatureServe website map: \"MAP\" mean annual precipitation historical normal period mwmt: \"MWMT\" mean warmest month temperature historical normal period mcmt: \"MCMT\" mean coldest month temperature historical normal period clim_poly: optional shapefile polygon range climate data. created climate data missing faster provide . Accepted raster file types \".asc\", \".tif\", \".nc\", \".grd\", \".img\", \".bil\" \".gpkg\" (see spatial_file_raster()).","code":""},{"path":[]},{"path":"https://landscitech.github.io/ccviR/reference/prep_clim_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare climate data — prep_clim_data","text":"","code":"in_folder <- system.file(\"extdata/clim_files/raw\", package = \"ccviR\") pth_out <- fs::dir_create(\"processed_temp\")  # use first scenario to set breaks brks_out <- prep_clim_data(mat_norm = file.path(in_folder, \"NB_norm_MAT.tif\"),                            mat_fut = file.path(in_folder, \"NB_RCP.4.5_MAT.tif\"),                            cmd_norm = file.path(in_folder, \"NB_norm_CMD.tif\"),                            cmd_fut = file.path(in_folder, \"NB_RCP.4.5_CMD.tif\"),                            map = file.path(in_folder, \"NB_norm_MAP.tif\"),                            mwmt = file.path(in_folder, \"NB_norm_MWMT.tif\"),                            mcmt = file.path(in_folder, \"NB_norm_MCMT.tif\"),                            out_folder = pth_out,                            clim_poly = file.path(system.file(\"extdata\", package = \"ccviR\"),                                                  \"assess_poly.shp\"),                            overwrite = TRUE,                            scenario_name = \"RCP 4.5\") #> Processing MAT #> Processing CMD #> Processing MAP #> Processing MWMT and MCMT #> Finished processing  prep_clim_data(mat_norm = file.path(in_folder, \"NB_norm_MAT.tif\"),                mat_fut = file.path(in_folder, \"NB_RCP.8.5_MAT.tif\"),                cmd_norm = file.path(in_folder, \"NB_norm_CMD.tif\"),                cmd_fut = file.path(in_folder, \"NB_RCP.8.5_CMD.tif\"),                out_folder = pth_out,                clim_poly = file.path(system.file(\"extdata\", package = \"ccviR\"),                                      \"assess_poly.shp\"),                overwrite = TRUE,                scenario_name = \"RCP 8.5\",                brks_mat = brks_out$brks_mat, brks_cmd = brks_out$brks_cmd,                brks_ccei = brks_out$brks_ccei) #> Processing MAT #> Processing CMD #> Finished processing  fs::dir_delete(pth_out)"},{"path":"https://landscitech.github.io/ccviR/reference/prep_clim_data_multi.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare climate data for multiple scenarios — prep_clim_data_multi","title":"Prepare climate data for multiple scenarios — prep_clim_data_multi","text":"Prepare data raw form needed calculating index. See NatureServe Guidelines details data prepared. processes multiple scenarios set breaks.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/prep_clim_data_multi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare climate data for multiple scenarios — prep_clim_data_multi","text":"","code":"prep_clim_data_multi(   mat_norm,   mat_fut,   cmd_norm,   cmd_fut,   ccei = NULL,   map = NULL,   mwmt = NULL,   mcmt = NULL,   clim_poly = NULL,   in_folder = NULL,   out_folder,   reproject = FALSE,   overwrite = FALSE,   scenario_name = \"\",   brks = NULL,   brks_mat = NULL,   brks_cmd = NULL,   brks_ccei = NULL,   quiet = FALSE )"},{"path":"https://landscitech.github.io/ccviR/reference/prep_clim_data_multi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare climate data for multiple scenarios — prep_clim_data_multi","text":"mat_norm, mat_fut, cmd_norm, cmd_fut, ccei, map, mwmt, mcmt, clim_poly file paths find data in_folder given in_folder file path files stored. Files must named according convention described details out_folder Character. Path processed files saved. reproject data re-projected lat/long? recommended. overwrite Logical. Whether overwrite existing file(s) scenario_name Character. string identifying climate change scenario(s) used suffix output files. brks List. Optionally supply brks_mat, brks_cmd brks_ccei list. brks_mat, brks_cmd, brks_ccei matrix containing breaks use classifying mat, cmd ccei 6, 6 4 classes, respectively. See reclassify details matrix format. NULL, default, breaks determined using median half interquartile range quiet Logical. Whether suppress progress messages.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/prep_clim_data_multi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare climate data for multiple scenarios — prep_clim_data_multi","text":"Returns list matrices breaks used classify mat, cmd ccei. Processed data saved out_folder","code":""},{"path":"https://landscitech.github.io/ccviR/reference/prep_clim_data_multi.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Prepare climate data for multiple scenarios — prep_clim_data_multi","text":"Definition input data sets file names required in_folder: mat_norm: \"MAT\" mean annual temperature historical normal period mat_fut: \"MAT_2050\" mean annual temperature future climate change can number eg 2050, 2100 cmd_norm: \"CMD\" climate moisture deficit historical normal period cmd_fut: \"CMD_2050\" climate moisture deficit future climate change can number eg 2050, 2100 ccei: \"CCEI\" Climate Change Exposure Index NatureServe website map: \"MAP\" mean annual precipitation historical normal period mwmt: \"MWMT\" mean warmest month temperature historical normal period mcmt: \"MCMT\" mean coldest month temperature historical normal period clim_poly: optional shapefile polygon range climate data. created climate data missing faster provide . Accepted raster file types \".asc\", \".tif\", \".nc\", \".grd\", \".img\", \".bil\" \".gpkg\" (see spatial_file_raster()).","code":""},{"path":[]},{"path":"https://landscitech.github.io/ccviR/reference/prep_clim_data_multi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare climate data for multiple scenarios — prep_clim_data_multi","text":"","code":"in_folder <- system.file(\"extdata/clim_files/raw\", package = \"ccviR\") pth_out <- fs::dir_create(\"processed_temp\")  # Process both scenarios at once with the same set of breaks  prep_clim_data_multi(   mat_norm = file.path(in_folder, \"NB_norm_MAT.tif\"),   mat_fut = file.path(in_folder, c(\"NB_RCP.4.5_MAT.tif\", \"NB_RCP.8.5_MAT.tif\")),   cmd_norm = file.path(in_folder, \"NB_norm_CMD.tif\"),   cmd_fut = file.path(in_folder, c(\"NB_RCP.4.5_CMD.tif\", \"NB_RCP.8.5_CMD.tif\")),   map = file.path(in_folder, \"NB_norm_MAP.tif\"),   mwmt = file.path(in_folder, \"NB_norm_MWMT.tif\"),   mcmt = file.path(in_folder, \"NB_norm_MCMT.tif\"),   out_folder = pth_out,   clim_poly = file.path(system.file(\"extdata\", package = \"ccviR\"),                         \"assess_poly.shp\"),   scenario_name = c(\"RCP 4.5\", \"RCP 8.5\")) #> Preparing Scenario 1 #> Processing MAT #> Processing CMD #> Processing MAP #> Processing MWMT and MCMT #> Finished processing #> Preparing Scenario 2 #> Processing MAT #> Processing CMD #> Finished processing #> $brks_cmd #>         [,1]    [,2] [,3] #> [1,] -20.750 -13.970    6 #> [2,] -13.970 -12.175    5 #> [3,] -12.175 -10.380    4 #> [4,] -10.380  -8.585    3 #> [5,]  -8.585  -6.790    2 #> [6,]  -6.790   2.140    1 #>  #> $brks_mat #>        [,1]   [,2] [,3] #> [1,] -4.105 -3.130    6 #> [2,] -3.130 -3.050    5 #> [3,] -3.050 -2.970    4 #> [4,] -2.970 -2.890    3 #> [5,] -2.890 -2.810    2 #> [6,] -2.810 -1.556    1 #>  #> $brks_ccei #> NULL #>   # Clean up fs::dir_delete(pth_out)   # Process both scenarios at with CCEI pth_out <- fs::dir_create(\"processed_temp\")  prep_clim_data_multi(   mat_norm = file.path(in_folder, \"NB_norm_MAT.tif\"),   mat_fut = file.path(in_folder, c(\"NB_RCP.4.5_MAT.tif\", \"NB_RCP.8.5_MAT.tif\")),   cmd_norm = file.path(in_folder, \"NB_norm_CMD.tif\"),   cmd_fut = file.path(in_folder, c(\"NB_RCP.4.5_CMD.tif\", \"NB_RCP.8.5_CMD.tif\")),   ccei = file.path(in_folder, c(\"ccei_ssp245_fl.tif\", \"ccei_ssp585_fl.tif\")),   map = file.path(in_folder, \"NB_norm_MAP.tif\"),   mwmt = file.path(in_folder, \"NB_norm_MWMT.tif\"),   mcmt = file.path(in_folder, \"NB_norm_MCMT.tif\"),   out_folder = pth_out,   clim_poly = file.path(system.file(\"extdata\", package = \"ccviR\"),                         \"assess_poly.shp\"),   scenario_name = c(\"RCP 4.5\", \"RCP 8.5\")) #> Preparing Scenario 1 #> Processing MAT #> Processing CMD #> Processing CCEI #> Processing MAP #> Processing MWMT and MCMT #> Finished processing #> Preparing Scenario 2 #> Processing MAT #> Processing CMD #> Processing CCEI #> Finished processing #> $brks_cmd #>         [,1]    [,2] [,3] #> [1,] -20.750 -13.970    6 #> [2,] -13.970 -12.175    5 #> [3,] -12.175 -10.380    4 #> [4,] -10.380  -8.585    3 #> [5,]  -8.585  -6.790    2 #> [6,]  -6.790   2.140    1 #>  #> $brks_mat #>        [,1]   [,2] [,3] #> [1,] -4.105 -3.130    6 #> [2,] -3.130 -3.050    5 #> [3,] -3.050 -2.970    4 #> [4,] -2.970 -2.890    3 #> [5,] -2.890 -2.810    2 #> [6,] -2.810 -1.556    1 #>  #> $brks_ccei #>      [,1] [,2] [,3] #> [1,]    0    4    1 #> [2,]    4    5    2 #> [3,]    5    7    3 #> [4,]    7  Inf    4 #>   # Clean up fs::dir_delete(pth_out)"},{"path":"https://landscitech.github.io/ccviR/reference/prep_clim_readme.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare README for climate data — prep_clim_readme","title":"Prepare README for climate data — prep_clim_readme","text":"Prepare README climate data","code":""},{"path":"https://landscitech.github.io/ccviR/reference/prep_clim_readme.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare README for climate data — prep_clim_readme","text":"","code":"prep_clim_readme(   scenario_name,   gcm_ensemble,   hist_period,   fut_period,   emissions_scenario,   url,   out_folder,   brks = NULL,   brks_mat = NULL,   brks_cmd = NULL,   brks_ccei = NULL )"},{"path":"https://landscitech.github.io/ccviR/reference/prep_clim_readme.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare README for climate data — prep_clim_readme","text":"scenario_name Character. string identifying climate change scenario(s) used suffix output files. gcm_ensemble Character vector. GCM ensemble names hist_period Character vector. Historical periods used. fut_period Character vector. Future periods used. emissions_scenario Character vector. Emissions scenarios. url Character vector. Source link out_folder Character. Path processed files saved. brks List. Optionally supply brks_mat, brks_cmd brks_ccei list. brks_mat, brks_cmd, brks_ccei matrix containing breaks use classifying mat, cmd ccei 6, 6 4 classes, respectively. See reclassify details matrix format. NULL, default, breaks determined using median half interquartile range","code":""},{"path":"https://landscitech.github.io/ccviR/reference/prep_clim_readme.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare README for climate data — prep_clim_readme","text":"Nothing, writes readme out_folder","code":""},{"path":"https://landscitech.github.io/ccviR/reference/prep_clim_readme.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare README for climate data — prep_clim_readme","text":"","code":"in_folder <- system.file(\"extdata/clim_files/raw\", package = \"ccviR\") pth_out <- fs::dir_create(\"processed_temp\")  # Process both scenarios at once with the same set of breaks brks <- prep_clim_data_multi(   mat_norm = file.path(in_folder, \"NB_norm_MAT.tif\"),   mat_fut = file.path(in_folder, c(\"NB_RCP.4.5_MAT.tif\", \"NB_RCP.8.5_MAT.tif\")),   cmd_norm = file.path(in_folder, \"NB_norm_CMD.tif\"),   cmd_fut = file.path(in_folder, c(\"NB_RCP.4.5_CMD.tif\", \"NB_RCP.8.5_CMD.tif\")),   map = file.path(in_folder, \"NB_norm_MAP.tif\"),   mwmt = file.path(in_folder, \"NB_norm_MWMT.tif\"),   mcmt = file.path(in_folder, \"NB_norm_MCMT.tif\"),   out_folder = pth_out,   clim_poly = file.path(system.file(\"extdata\", package = \"ccviR\"),                         \"assess_poly.shp\"),   scenario_name = c(\"RCP 4.5\", \"RCP 8.5\")) #> Preparing Scenario 1 #> Processing MAT #> Processing CMD #> Processing MAP #> Processing MWMT and MCMT #> Finished processing #> Preparing Scenario 2 #> Processing MAT #> Processing CMD #> Finished processing  # Add README prep_clim_readme(   scenario_name = c(\"RCP 4.5\", \"RCP 8.5\"),   gcm_ensemble = \"AdaptWest 15 CMIP5 AOGCM Ensemble\",   hist_period = \"1961-1990\",   fut_period = \"2050s\",   emissions_scenario = c(\"RCP 4.5\", \"RCP 8.5\"),   url = \"https://adaptwest.databasin.org/pages/adaptwest-climatena-cmip5/\",   out_folder = pth_out,   brks = brks)  # Clean up fs::dir_delete(pth_out)"},{"path":"https://landscitech.github.io/ccviR/reference/rng_chg_mat.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a range change matrix — rng_chg_mat","title":"Create a range change matrix — rng_chg_mat","text":"Creates matrix defining range change scores range change raster. matrix required hs_rcl argument analyze_spatial(). matrix indicates range change matrix scored; cell values mean range lost, maintained, gained. used analyze_spatial() re-calibrate range change raster values 0-3 indicating NA, lost, maintained, gained.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/rng_chg_mat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a range change matrix — rng_chg_mat","text":"","code":"rng_chg_mat(lost, maintained, gained, not_suitable = NA)"},{"path":"https://landscitech.github.io/ccviR/reference/rng_chg_mat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a range change matrix — rng_chg_mat","text":"lost Numeric vector. Two values representing lowest highest values indicating range lost. maintained Numeric vector. Two values representing lowest highest values indicating range maintained. gained Numeric vector. Two values representing lowest highest values indicating range gained. not_suitable Numeric vector. Two values representing lowest highest values indicating range suitable.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/rng_chg_mat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a range change matrix — rng_chg_mat","text":"matrix scores use analyze_spatial()","code":""},{"path":"https://landscitech.github.io/ccviR/reference/rng_chg_mat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a range change matrix — rng_chg_mat","text":"","code":"rng_chg_mat(lost = -1,             maintained = 0,             gained = 1,             not_suitable = NA) #>      [,1] [,2] [,3] #> [1,]   -1   -1    1 #> [2,]    0    0    2 #> [3,]    1    1    3 #> [4,]   NA   NA    0  rng_chg_mat(lost = 1,             maintained = c(2, 6),             gained = 7,             not_suitable = NA) #>      [,1] [,2] [,3] #> [1,]    1    1    1 #> [2,]    2    6    2 #> [3,]    7    7    3 #> [4,]   NA   NA    0"},{"path":"https://landscitech.github.io/ccviR/reference/run_ccvi_app.html","id":null,"dir":"Reference","previous_headings":"","what":"Launch the CCVI app — run_ccvi_app","title":"Launch the CCVI app — run_ccvi_app","text":"Launch ccviR app calculate NatureServe Climate Change Vulnerability Index. See vignette(\"app_vignette\", package = \"ccviR\") details use app.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/run_ccvi_app.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Launch the CCVI app — run_ccvi_app","text":"","code":"run_ccvi_app(   file_dir = getwd(),   launch.browser = TRUE,   port = getOption(\"shiny.port\"),   test.mode = FALSE )"},{"path":"https://landscitech.github.io/ccviR/reference/run_ccvi_app.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Launch the CCVI app — run_ccvi_app","text":"file_dir directory locate files \"demo\" use demo data included package. launch.browser logical. Run CCVI app browser? port launch.browser FALSE, specify port run CCVI app. test.mode app launched using shiny test.mode. set TRUE debugging.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/run_ccvi_app.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Launch the CCVI app — run_ccvi_app","text":"shiny app.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/run_ccvi_app.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Launch the CCVI app — run_ccvi_app","text":"","code":"if (FALSE) { # interactive()  run_ccvi_app(\"demo\")  run_ccvi_app(file_dir = \"../\") }"},{"path":"https://landscitech.github.io/ccviR/reference/run_data_prep.html","id":null,"dir":"Reference","previous_headings":"","what":"Launch the data preparation app — run_data_prep","title":"Launch the data preparation app — run_data_prep","text":"Launch data preparation app ccviR package. See vignette(\"data_prep_vignette\", package = \"ccviR\") details use app.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/run_data_prep.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Launch the data preparation app — run_data_prep","text":"","code":"run_data_prep(   file_dir = getwd(),   launch.browser = TRUE,   port = getOption(\"shiny.port\") )"},{"path":"https://landscitech.github.io/ccviR/reference/run_data_prep.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Launch the data preparation app — run_data_prep","text":"file_dir directory locate files \"demo\" use demo data included package. launch.browser logical. Run app browser? port launch.browser FALSE, specify port run CCVI app.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/run_data_prep.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Launch the data preparation app — run_data_prep","text":"shiny app.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/run_data_prep.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Launch the data preparation app — run_data_prep","text":"","code":"if (FALSE) { # interactive()  run_data_prep(\"demo\") }"},{"path":"https://landscitech.github.io/ccviR/reference/spatial_file_poly.html","id":null,"dir":"Reference","previous_headings":"","what":"Lists of spatial file types for polygons — spatial_file_poly","title":"Lists of spatial file types for polygons — spatial_file_poly","text":"Lists spatial file types polygons","code":""},{"path":"https://landscitech.github.io/ccviR/reference/spatial_file_poly.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Lists of spatial file types for polygons — spatial_file_poly","text":"","code":"spatial_file_poly"},{"path":"https://landscitech.github.io/ccviR/reference/spatial_file_poly.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Lists of spatial file types for polygons — spatial_file_poly","text":"object class character length 3.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/spatial_file_raster.html","id":null,"dir":"Reference","previous_headings":"","what":"Lists of spatial file types for rasters — spatial_file_raster","title":"Lists of spatial file types for rasters — spatial_file_raster","text":"Lists spatial file types rasters","code":""},{"path":"https://landscitech.github.io/ccviR/reference/spatial_file_raster.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Lists of spatial file types for rasters — spatial_file_raster","text":"","code":"spatial_file_raster"},{"path":"https://landscitech.github.io/ccviR/reference/spatial_file_raster.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Lists of spatial file types for rasters — spatial_file_raster","text":"object class character length 8.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/spatial_file_types.html","id":null,"dir":"Reference","previous_headings":"","what":"Lists of spatial file types for all spatial files — spatial_file_types","title":"Lists of spatial file types for all spatial files — spatial_file_types","text":"Lists spatial file types spatial files","code":""},{"path":"https://landscitech.github.io/ccviR/reference/spatial_file_types.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Lists of spatial file types for all spatial files — spatial_file_types","text":"","code":"spatial_file_types"},{"path":"https://landscitech.github.io/ccviR/reference/spatial_file_types.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Lists of spatial file types for all spatial files — spatial_file_types","text":"object class character length 9.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/ui_build_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Table to build the UI — ui_build_table","title":"Table to build the UI — ui_build_table","text":"table identifying update function apply input. May get uses future","code":""},{"path":"https://landscitech.github.io/ccviR/reference/ui_build_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Table to build the UI — ui_build_table","text":"","code":"ui_build_table"},{"path":"https://landscitech.github.io/ccviR/reference/ui_build_table.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Table to build the UI — ui_build_table","text":"object class data.frame 48 rows 12 columns.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/vulnq_code_lu_tbl.html","id":null,"dir":"Reference","previous_headings":"","what":"Lookup table for vulnerability factor codes — vulnq_code_lu_tbl","title":"Lookup table for vulnerability factor codes — vulnq_code_lu_tbl","text":"Lookup table vulnerability factor questions, codes, maximum value, whether factor calculated spatial analysis.","code":""},{"path":"https://landscitech.github.io/ccviR/reference/vulnq_code_lu_tbl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Lookup table for vulnerability factor codes — vulnq_code_lu_tbl","text":"","code":"vulnq_code_lu_tbl"},{"path":"https://landscitech.github.io/ccviR/reference/vulnq_code_lu_tbl.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Lookup table for vulnerability factor codes — vulnq_code_lu_tbl","text":"object class data.frame 27 rows 4 columns.","code":""},{"path":"https://landscitech.github.io/ccviR/news/index.html","id":"ccvir-020","dir":"Changelog","previous_headings":"","what":"ccviR 0.2.0","title":"ccviR 0.2.0","text":"Many significant changes UI, report, data sets available use app Improvements feedback error messages app Re-org tabs Addition evidence dropdowns vulnerability factors Improvements report including longer requiring LaTeX adding index results plots New CCEI raster created North America using WorldClim data SSP2-4.5 SSP5-8.5 New Protected areas polygon data added answering question D4 overlap projected future range protected areas. New climate data package created CMIP6 data AdaptWest SSP2-4.5 SSP5-8.5 new data sets available new data package ","code":""},{"path":"https://landscitech.github.io/ccviR/news/index.html","id":"ccvir-011","dir":"Changelog","previous_headings":"","what":"ccviR 0.1.1","title":"ccviR 0.1.1","text":"paper submission JOSS","code":""},{"path":[]},{"path":"https://landscitech.github.io/ccviR/news/index.html","id":"ccvir-004","dir":"Changelog","previous_headings":"","what":"ccviR 0.0.4","title":"ccviR 0.0.4","text":"bugs fixed restoring saved file includng report generation R console exits browser exits Tempfile saved exit NatureServe Guidelines added popups better formatting Improvements reactivity navigating back forth app Improvements website vignettes","code":""}]
